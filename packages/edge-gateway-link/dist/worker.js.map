{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/lib/retry_operation.js", "../../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/lib/retry.js", "../../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/index.js", "../../../node_modules/.pnpm/tslib@1.14.1/node_modules/tslib/tslib.js", "../../../node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js", "../../../node_modules/.pnpm/stackframe@1.3.4/node_modules/stackframe/stackframe.js", "../../../node_modules/.pnpm/error-stack-parser@2.1.4/node_modules/error-stack-parser/error-stack-parser.js", "../../../node_modules/.pnpm/stack-generator@2.0.10/node_modules/stack-generator/stack-generator.js", "../../../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/util.js", "../../../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/binary-search.js", "../../../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/array-set.js", "../../../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/base64.js", "../../../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/base64-vlq.js", "../../../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/quick-sort.js", "../../../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/source-map-consumer.js", "../../../node_modules/.pnpm/stacktrace-gps@3.1.2/node_modules/stacktrace-gps/stacktrace-gps.js", "../../../node_modules/.pnpm/stacktrace-js@2.0.2/node_modules/stacktrace-js/stacktrace.js", "../../../node_modules/.pnpm/itty-router@2.6.1/node_modules/itty-router/dist/itty-router.min.mjs", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/vendor/varint.js", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/src/varint.js", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/src/bytes.js", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/src/hashes/digest.js", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/vendor/base-x.js", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/src/bases/base.js", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/src/bases/base58.js", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/src/bases/base32.js", "../../../node_modules/.pnpm/multiformats@9.7.1/node_modules/multiformats/esm/src/cid.js", "../src/errors.js", "../src/ipfs.js", "../src/ipns.js", "../../../node_modules/.pnpm/@web3-storage+worker-utils@0.3.0-dev/node_modules/@web3-storage/worker-utils/src/response.js", "../src/version.js", "../../../node_modules/.pnpm/p-retry@5.1.2/node_modules/p-retry/index.js", "../src/gateway.js", "../src/cors.js", "../src/error-handler.js", "../../../node_modules/.pnpm/tslib@1.14.1/node_modules/tslib/modules/index.js", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/env.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/node.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/global.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/is.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/browser.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/polyfill.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/error.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/flags.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/dsn.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/string.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/object.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/stacktrace.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/memo.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/normalize.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/syncpromise.ts", "../../../node_modules/.pnpm/@sentry+utils@6.19.6/node_modules/@sentry/src/time.ts", "../../../node_modules/.pnpm/@sentry+hub@6.19.6/node_modules/@sentry/src/scope.ts", "../../../node_modules/.pnpm/@sentry+core@6.19.6/node_modules/@sentry/src/api.ts", "../../../node_modules/.pnpm/toucan-js@2.6.1/node_modules/toucan-js/dist/index.esm.js", "../../../node_modules/.pnpm/nanoid@4.0.0/node_modules/nanoid/non-secure/index.js", "../../../node_modules/.pnpm/@web3-storage+worker-utils@0.3.0-dev/node_modules/@web3-storage/worker-utils/src/loki.js", "../src/env.js", "../src/index.js"],
  "sourcesContent": ["function RetryOperation(timeouts, options) {\n  // Compatibility for the old (timeouts, retryForever) signature\n  if (typeof options === 'boolean') {\n    options = { forever: options };\n  }\n\n  this._originalTimeouts = JSON.parse(JSON.stringify(timeouts));\n  this._timeouts = timeouts;\n  this._options = options || {};\n  this._maxRetryTime = options && options.maxRetryTime || Infinity;\n  this._fn = null;\n  this._errors = [];\n  this._attempts = 1;\n  this._operationTimeout = null;\n  this._operationTimeoutCb = null;\n  this._timeout = null;\n  this._operationStart = null;\n  this._timer = null;\n\n  if (this._options.forever) {\n    this._cachedTimeouts = this._timeouts.slice(0);\n  }\n}\nmodule.exports = RetryOperation;\n\nRetryOperation.prototype.reset = function() {\n  this._attempts = 1;\n  this._timeouts = this._originalTimeouts.slice(0);\n}\n\nRetryOperation.prototype.stop = function() {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n  if (this._timer) {\n    clearTimeout(this._timer);\n  }\n\n  this._timeouts       = [];\n  this._cachedTimeouts = null;\n};\n\nRetryOperation.prototype.retry = function(err) {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n\n  if (!err) {\n    return false;\n  }\n  var currentTime = new Date().getTime();\n  if (err && currentTime - this._operationStart >= this._maxRetryTime) {\n    this._errors.push(err);\n    this._errors.unshift(new Error('RetryOperation timeout occurred'));\n    return false;\n  }\n\n  this._errors.push(err);\n\n  var timeout = this._timeouts.shift();\n  if (timeout === undefined) {\n    if (this._cachedTimeouts) {\n      // retry forever, only keep last error\n      this._errors.splice(0, this._errors.length - 1);\n      timeout = this._cachedTimeouts.slice(-1);\n    } else {\n      return false;\n    }\n  }\n\n  var self = this;\n  this._timer = setTimeout(function() {\n    self._attempts++;\n\n    if (self._operationTimeoutCb) {\n      self._timeout = setTimeout(function() {\n        self._operationTimeoutCb(self._attempts);\n      }, self._operationTimeout);\n\n      if (self._options.unref) {\n          self._timeout.unref();\n      }\n    }\n\n    self._fn(self._attempts);\n  }, timeout);\n\n  if (this._options.unref) {\n      this._timer.unref();\n  }\n\n  return true;\n};\n\nRetryOperation.prototype.attempt = function(fn, timeoutOps) {\n  this._fn = fn;\n\n  if (timeoutOps) {\n    if (timeoutOps.timeout) {\n      this._operationTimeout = timeoutOps.timeout;\n    }\n    if (timeoutOps.cb) {\n      this._operationTimeoutCb = timeoutOps.cb;\n    }\n  }\n\n  var self = this;\n  if (this._operationTimeoutCb) {\n    this._timeout = setTimeout(function() {\n      self._operationTimeoutCb();\n    }, self._operationTimeout);\n  }\n\n  this._operationStart = new Date().getTime();\n\n  this._fn(this._attempts);\n};\n\nRetryOperation.prototype.try = function(fn) {\n  console.log('Using RetryOperation.try() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = function(fn) {\n  console.log('Using RetryOperation.start() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = RetryOperation.prototype.try;\n\nRetryOperation.prototype.errors = function() {\n  return this._errors;\n};\n\nRetryOperation.prototype.attempts = function() {\n  return this._attempts;\n};\n\nRetryOperation.prototype.mainError = function() {\n  if (this._errors.length === 0) {\n    return null;\n  }\n\n  var counts = {};\n  var mainError = null;\n  var mainErrorCount = 0;\n\n  for (var i = 0; i < this._errors.length; i++) {\n    var error = this._errors[i];\n    var message = error.message;\n    var count = (counts[message] || 0) + 1;\n\n    counts[message] = count;\n\n    if (count >= mainErrorCount) {\n      mainError = error;\n      mainErrorCount = count;\n    }\n  }\n\n  return mainError;\n};\n", "var RetryOperation = require('./retry_operation');\n\nexports.operation = function(options) {\n  var timeouts = exports.timeouts(options);\n  return new RetryOperation(timeouts, {\n      forever: options && (options.forever || options.retries === Infinity),\n      unref: options && options.unref,\n      maxRetryTime: options && options.maxRetryTime\n  });\n};\n\nexports.timeouts = function(options) {\n  if (options instanceof Array) {\n    return [].concat(options);\n  }\n\n  var opts = {\n    retries: 10,\n    factor: 2,\n    minTimeout: 1 * 1000,\n    maxTimeout: Infinity,\n    randomize: false\n  };\n  for (var key in options) {\n    opts[key] = options[key];\n  }\n\n  if (opts.minTimeout > opts.maxTimeout) {\n    throw new Error('minTimeout is greater than maxTimeout');\n  }\n\n  var timeouts = [];\n  for (var i = 0; i < opts.retries; i++) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  if (options && options.forever && !timeouts.length) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  // sort the array numerically ascending\n  timeouts.sort(function(a,b) {\n    return a - b;\n  });\n\n  return timeouts;\n};\n\nexports.createTimeout = function(attempt, opts) {\n  var random = (opts.randomize)\n    ? (Math.random() + 1)\n    : 1;\n\n  var timeout = Math.round(random * Math.max(opts.minTimeout, 1) * Math.pow(opts.factor, attempt));\n  timeout = Math.min(timeout, opts.maxTimeout);\n\n  return timeout;\n};\n\nexports.wrap = function(obj, options, methods) {\n  if (options instanceof Array) {\n    methods = options;\n    options = null;\n  }\n\n  if (!methods) {\n    methods = [];\n    for (var key in obj) {\n      if (typeof obj[key] === 'function') {\n        methods.push(key);\n      }\n    }\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    var method   = methods[i];\n    var original = obj[method];\n\n    obj[method] = function retryWrapper(original) {\n      var op       = exports.operation(options);\n      var args     = Array.prototype.slice.call(arguments, 1);\n      var callback = args.pop();\n\n      args.push(function(err) {\n        if (op.retry(err)) {\n          return;\n        }\n        if (err) {\n          arguments[0] = op.mainError();\n        }\n        callback.apply(this, arguments);\n      });\n\n      op.attempt(function() {\n        original.apply(obj, args);\n      });\n    }.bind(obj, original);\n    obj[method].options = options;\n  }\n};\n", "module.exports = require('./lib/retry');", "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __spreadArrays;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\nvar __classPrivateFieldGet;\r\nvar __classPrivateFieldSet;\r\nvar __createBinding;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                    t[p[i]] = s[p[i]];\r\n            }\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __createBinding = function(o, m, k, k2) {\r\n        if (k2 === undefined) k2 = k;\r\n        o[k2] = m[k];\r\n    };\r\n\r\n    __exportStar = function (m, exports) {\r\n        for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    };\r\n\r\n    __values = function (o) {\r\n        var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n        if (m) return m.call(o);\r\n        if (o && typeof o.length === \"number\") return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n        throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    __spreadArrays = function () {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result[\"default\"] = mod;\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    __classPrivateFieldGet = function (receiver, privateMap) {\r\n        if (!privateMap.has(receiver)) {\r\n            throw new TypeError(\"attempted to get private field on non-instance\");\r\n        }\r\n        return privateMap.get(receiver);\r\n    };\r\n\r\n    __classPrivateFieldSet = function (receiver, privateMap, value) {\r\n        if (!privateMap.has(receiver)) {\r\n            throw new TypeError(\"attempted to set private field on non-instance\");\r\n        }\r\n        privateMap.set(receiver, value);\r\n        return value;\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__createBinding\", __createBinding);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__spreadArrays\", __spreadArrays);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n    exporter(\"__classPrivateFieldGet\", __classPrivateFieldGet);\r\n    exporter(\"__classPrivateFieldSet\", __classPrivateFieldSet);\r\n});\r\n", "/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var dec = opt.decode || decode;\n\n  var index = 0\n  while (index < str.length) {\n    var eqIdx = str.indexOf('=', index)\n\n    // no more cookie pairs\n    if (eqIdx === -1) {\n      break\n    }\n\n    var endIdx = str.indexOf(';', index)\n\n    if (endIdx === -1) {\n      endIdx = str.length\n    } else if (endIdx < eqIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1\n      continue\n    }\n\n    var key = str.slice(index, eqIdx).trim()\n\n    // only assign once\n    if (undefined === obj[key]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim()\n\n      // quoted values\n      if (val.charCodeAt(0) === 0x22) {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase()\n      : opt.priority\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * URL-encode value.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction encode (val) {\n  return encodeURIComponent(val)\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]' ||\n    val instanceof Date\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n", "(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n", "(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n", "(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function(StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize && curr['arguments']) {\n                // Allow V8 optimizations\n                var args = new Array(curr['arguments'].length);\n                for (var i = 0; i < args.length; ++i) {\n                    args[i] = curr['arguments'][i];\n                }\n                if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame({functionName: RegExp.$1 || undefined, args: args}));\n                } else {\n                    stack.push(new StackFrame({args: args}));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = util.toSetString(aStr);\n  var isDuplicate = has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    this._set[sStr] = idx;\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  var sStr = util.toSetString(aStr);\n  return has.call(this._set, sStr);\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  var sStr = util.toSetString(aStr);\n  if (has.call(this._set, sStr)) {\n    return this._set[sStr];\n  }\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap)\n    : new BasicSourceMapConsumer(sourceMap);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      if (source != null && sourceRoot != null) {\n        source = util.join(sourceRoot, source);\n      }\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: Optional. the column number in the original source.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    if (this.sourceRoot != null) {\n      needle.source = util.relative(this.sourceRoot, needle.source);\n    }\n    if (!this._sources.has(needle.source)) {\n      return [];\n    }\n    needle.source = this._sources.indexOf(needle.source);\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The only parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._sources.toArray().map(function (s) {\n      return this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\n    }, this);\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          if (this.sourceRoot != null) {\n            source = util.join(this.sourceRoot, source);\n          }\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    if (this.sourceRoot != null) {\n      aSource = util.relative(this.sourceRoot, aSource);\n    }\n\n    if (this._sources.has(aSource)) {\n      return this.sourcesContent[this._sources.indexOf(aSource)];\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + aSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    if (this.sourceRoot != null) {\n      source = util.relative(this.sourceRoot, source);\n    }\n    if (!this._sources.has(source)) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n    source = this._sources.indexOf(source);\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The only parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'))\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        if (section.consumer.sourceRoot !== null) {\n          source = util.join(section.consumer.sourceRoot, source);\n        }\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = section.consumer._names.at(mapping.name);\n        this._names.add(name);\n        name = this._names.indexOf(name);\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n", "(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stacktrace-gps', ['source-map', 'stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('source-map/lib/source-map-consumer'), require('stackframe'));\n    } else {\n        root.StackTraceGPS = factory(root.SourceMap || root.sourceMap, root.StackFrame);\n    }\n}(this, function(SourceMap, StackFrame) {\n    'use strict';\n\n    /**\n     * Make a X-Domain request to url and callback.\n     *\n     * @param {String} url\n     * @returns {Promise} with response text if fulfilled\n     */\n    function _xdr(url) {\n        return new Promise(function(resolve, reject) {\n            var req = new XMLHttpRequest();\n            req.open('get', url);\n            req.onerror = reject;\n            req.onreadystatechange = function onreadystatechange() {\n                if (req.readyState === 4) {\n                    if ((req.status >= 200 && req.status < 300) ||\n                        (url.substr(0, 7) === 'file://' && req.responseText)) {\n                        resolve(req.responseText);\n                    } else {\n                        reject(new Error('HTTP status: ' + req.status + ' retrieving ' + url));\n                    }\n                }\n            };\n            req.send();\n        });\n\n    }\n\n    /**\n     * Convert a Base64-encoded string into its original representation.\n     * Used for inline sourcemaps.\n     *\n     * @param {String} b64str Base-64 encoded string\n     * @returns {String} original representation of the base64-encoded string.\n     */\n    function _atob(b64str) {\n        if (typeof window !== 'undefined' && window.atob) {\n            return window.atob(b64str);\n        } else {\n            throw new Error('You must supply a polyfill for window.atob in this environment');\n        }\n    }\n\n    function _parseJson(string) {\n        if (typeof JSON !== 'undefined' && JSON.parse) {\n            return JSON.parse(string);\n        } else {\n            throw new Error('You must supply a polyfill for JSON.parse in this environment');\n        }\n    }\n\n    function _findFunctionName(source, lineNumber/*, columnNumber*/) {\n        var syntaxes = [\n            // {name} = function ({args}) TODO args capture\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/,\n            // function {name}({args}) m[1]=name m[2]=args\n            /function\\s+([^('\"`]*?)\\s*\\(([^)]*)\\)/,\n            // {name} = eval()\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/,\n            // fn_name() {\n            /\\b(?!(?:if|for|switch|while|with|catch)\\b)(?:(?:static)\\s+)?(\\S+)\\s*\\(.*?\\)\\s*\\{/,\n            // {name} = () => {\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*\\(.*?\\)\\s*=>/\n        ];\n        var lines = source.split('\\n');\n\n        // Walk backwards in the source lines until we find the line which matches one of the patterns above\n        var code = '';\n        var maxLines = Math.min(lineNumber, 20);\n        for (var i = 0; i < maxLines; ++i) {\n            // lineNo is 1-based, source[] is 0-based\n            var line = lines[lineNumber - i - 1];\n            var commentPos = line.indexOf('//');\n            if (commentPos >= 0) {\n                line = line.substr(0, commentPos);\n            }\n\n            if (line) {\n                code = line + code;\n                var len = syntaxes.length;\n                for (var index = 0; index < len; index++) {\n                    var m = syntaxes[index].exec(code);\n                    if (m && m[1]) {\n                        return m[1];\n                    }\n                }\n            }\n        }\n        return undefined;\n    }\n\n    function _ensureSupportedEnvironment() {\n        if (typeof Object.defineProperty !== 'function' || typeof Object.create !== 'function') {\n            throw new Error('Unable to consume source maps in older browsers');\n        }\n    }\n\n    function _ensureStackFrameIsLegit(stackframe) {\n        if (typeof stackframe !== 'object') {\n            throw new TypeError('Given StackFrame is not an object');\n        } else if (typeof stackframe.fileName !== 'string') {\n            throw new TypeError('Given file name is not a String');\n        } else if (typeof stackframe.lineNumber !== 'number' ||\n            stackframe.lineNumber % 1 !== 0 ||\n            stackframe.lineNumber < 1) {\n            throw new TypeError('Given line number must be a positive integer');\n        } else if (typeof stackframe.columnNumber !== 'number' ||\n            stackframe.columnNumber % 1 !== 0 ||\n            stackframe.columnNumber < 0) {\n            throw new TypeError('Given column number must be a non-negative integer');\n        }\n        return true;\n    }\n\n    function _findSourceMappingURL(source) {\n        var sourceMappingUrlRegExp = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/mg;\n        var lastSourceMappingUrl;\n        var matchSourceMappingUrl;\n        // eslint-disable-next-line no-cond-assign\n        while (matchSourceMappingUrl = sourceMappingUrlRegExp.exec(source)) {\n            lastSourceMappingUrl = matchSourceMappingUrl[1];\n        }\n        if (lastSourceMappingUrl) {\n            return lastSourceMappingUrl;\n        } else {\n            throw new Error('sourceMappingURL not found');\n        }\n    }\n\n    function _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache) {\n        return new Promise(function(resolve, reject) {\n            var loc = sourceMapConsumer.originalPositionFor({\n                line: stackframe.lineNumber,\n                column: stackframe.columnNumber\n            });\n\n            if (loc.source) {\n                // cache mapped sources\n                var mappedSource = sourceMapConsumer.sourceContentFor(loc.source);\n                if (mappedSource) {\n                    sourceCache[loc.source] = mappedSource;\n                }\n\n                resolve(\n                    // given stackframe and source location, update stackframe\n                    new StackFrame({\n                        functionName: loc.name || stackframe.functionName,\n                        args: stackframe.args,\n                        fileName: loc.source,\n                        lineNumber: loc.line,\n                        columnNumber: loc.column\n                    }));\n            } else {\n                reject(new Error('Could not get original source for given stackframe and source map'));\n            }\n        });\n    }\n\n    /**\n     * @constructor\n     * @param {Object} opts\n     *      opts.sourceCache = {url: \"Source String\"} => preload source cache\n     *      opts.sourceMapConsumerCache = {/path/file.js.map: SourceMapConsumer}\n     *      opts.offline = True to prevent network requests.\n     *              Best effort without sources or source maps.\n     *      opts.ajax = Promise returning function to make X-Domain requests\n     */\n    return function StackTraceGPS(opts) {\n        if (!(this instanceof StackTraceGPS)) {\n            return new StackTraceGPS(opts);\n        }\n        opts = opts || {};\n\n        this.sourceCache = opts.sourceCache || {};\n        this.sourceMapConsumerCache = opts.sourceMapConsumerCache || {};\n\n        this.ajax = opts.ajax || _xdr;\n\n        this._atob = opts.atob || _atob;\n\n        this._get = function _get(location) {\n            return new Promise(function(resolve, reject) {\n                var isDataUrl = location.substr(0, 5) === 'data:';\n                if (this.sourceCache[location]) {\n                    resolve(this.sourceCache[location]);\n                } else if (opts.offline && !isDataUrl) {\n                    reject(new Error('Cannot make network requests in offline mode'));\n                } else {\n                    if (isDataUrl) {\n                        // data URLs can have parameters.\n                        // see http://tools.ietf.org/html/rfc2397\n                        var supportedEncodingRegexp =\n                            /^data:application\\/json;([\\w=:\"-]+;)*base64,/;\n                        var match = location.match(supportedEncodingRegexp);\n                        if (match) {\n                            var sourceMapStart = match[0].length;\n                            var encodedSource = location.substr(sourceMapStart);\n                            var source = this._atob(encodedSource);\n                            this.sourceCache[location] = source;\n                            resolve(source);\n                        } else {\n                            reject(new Error('The encoding of the inline sourcemap is not supported'));\n                        }\n                    } else {\n                        var xhrPromise = this.ajax(location, {method: 'get'});\n                        // Cache the Promise to prevent duplicate in-flight requests\n                        this.sourceCache[location] = xhrPromise;\n                        xhrPromise.then(resolve, reject);\n                    }\n                }\n            }.bind(this));\n        };\n\n        /**\n         * Creating SourceMapConsumers is expensive, so this wraps the creation of a\n         * SourceMapConsumer in a per-instance cache.\n         *\n         * @param {String} sourceMappingURL = URL to fetch source map from\n         * @param {String} defaultSourceRoot = Default source root for source map if undefined\n         * @returns {Promise} that resolves a SourceMapConsumer\n         */\n        this._getSourceMapConsumer = function _getSourceMapConsumer(sourceMappingURL, defaultSourceRoot) {\n            return new Promise(function(resolve) {\n                if (this.sourceMapConsumerCache[sourceMappingURL]) {\n                    resolve(this.sourceMapConsumerCache[sourceMappingURL]);\n                } else {\n                    var sourceMapConsumerPromise = new Promise(function(resolve, reject) {\n                        return this._get(sourceMappingURL).then(function(sourceMapSource) {\n                            if (typeof sourceMapSource === 'string') {\n                                sourceMapSource = _parseJson(sourceMapSource.replace(/^\\)\\]\\}'/, ''));\n                            }\n                            if (typeof sourceMapSource.sourceRoot === 'undefined') {\n                                sourceMapSource.sourceRoot = defaultSourceRoot;\n                            }\n\n                            resolve(new SourceMap.SourceMapConsumer(sourceMapSource));\n                        }).catch(reject);\n                    }.bind(this));\n                    this.sourceMapConsumerCache[sourceMappingURL] = sourceMapConsumerPromise;\n                    resolve(sourceMapConsumerPromise);\n                }\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, enhance function name and use source maps for a\n         * better StackFrame.\n         *\n         * @param {StackFrame} stackframe object\n         * @returns {Promise} that resolves with with source-mapped StackFrame\n         */\n        this.pinpoint = function StackTraceGPS$$pinpoint(stackframe) {\n            return new Promise(function(resolve, reject) {\n                this.getMappedLocation(stackframe).then(function(mappedStackFrame) {\n                    function resolveMappedStackFrame() {\n                        resolve(mappedStackFrame);\n                    }\n\n                    this.findFunctionName(mappedStackFrame)\n                        .then(resolve, resolveMappedStackFrame)\n                        // eslint-disable-next-line no-unexpected-multiline\n                        ['catch'](resolveMappedStackFrame);\n                }.bind(this), reject);\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, guess function name from location information.\n         *\n         * @param {StackFrame} stackframe\n         * @returns {Promise} that resolves with enhanced StackFrame.\n         */\n        this.findFunctionName = function StackTraceGPS$$findFunctionName(stackframe) {\n            return new Promise(function(resolve, reject) {\n                _ensureStackFrameIsLegit(stackframe);\n                this._get(stackframe.fileName).then(function getSourceCallback(source) {\n                    var lineNumber = stackframe.lineNumber;\n                    var columnNumber = stackframe.columnNumber;\n                    var guessedFunctionName = _findFunctionName(source, lineNumber, columnNumber);\n                    // Only replace functionName if we found something\n                    if (guessedFunctionName) {\n                        resolve(new StackFrame({\n                            functionName: guessedFunctionName,\n                            args: stackframe.args,\n                            fileName: stackframe.fileName,\n                            lineNumber: lineNumber,\n                            columnNumber: columnNumber\n                        }));\n                    } else {\n                        resolve(stackframe);\n                    }\n                }, reject)['catch'](reject);\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, seek source-mapped location and return new enhanced StackFrame.\n         *\n         * @param {StackFrame} stackframe\n         * @returns {Promise} that resolves with enhanced StackFrame.\n         */\n        this.getMappedLocation = function StackTraceGPS$$getMappedLocation(stackframe) {\n            return new Promise(function(resolve, reject) {\n                _ensureSupportedEnvironment();\n                _ensureStackFrameIsLegit(stackframe);\n\n                var sourceCache = this.sourceCache;\n                var fileName = stackframe.fileName;\n                this._get(fileName).then(function(source) {\n                    var sourceMappingURL = _findSourceMappingURL(source);\n                    var isDataUrl = sourceMappingURL.substr(0, 5) === 'data:';\n                    var defaultSourceRoot = fileName.substring(0, fileName.lastIndexOf('/') + 1);\n\n                    if (sourceMappingURL[0] !== '/' && !isDataUrl && !(/^https?:\\/\\/|^\\/\\//i).test(sourceMappingURL)) {\n                        sourceMappingURL = defaultSourceRoot + sourceMappingURL;\n                    }\n\n                    return this._getSourceMapConsumer(sourceMappingURL, defaultSourceRoot)\n                        .then(function(sourceMapConsumer) {\n                            return _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache)\n                                .then(resolve)['catch'](function() {\n                                    resolve(stackframe);\n                                });\n                        });\n                }.bind(this), reject)['catch'](reject);\n            }.bind(this));\n        };\n    };\n}));\n", "(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stacktrace', ['error-stack-parser', 'stack-generator', 'stacktrace-gps'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('error-stack-parser'), require('stack-generator'), require('stacktrace-gps'));\n    } else {\n        root.StackTrace = factory(root.ErrorStackParser, root.StackGenerator, root.StackTraceGPS);\n    }\n}(this, function StackTrace(ErrorStackParser, StackGenerator, StackTraceGPS) {\n    var _options = {\n        filter: function(stackframe) {\n            // Filter out stackframes for this library by default\n            return (stackframe.functionName || '').indexOf('StackTrace$$') === -1 &&\n                (stackframe.functionName || '').indexOf('ErrorStackParser$$') === -1 &&\n                (stackframe.functionName || '').indexOf('StackTraceGPS$$') === -1 &&\n                (stackframe.functionName || '').indexOf('StackGenerator$$') === -1;\n        },\n        sourceCache: {}\n    };\n\n    var _generateError = function StackTrace$$GenerateError() {\n        try {\n            // Error must be thrown to get stack in IE\n            throw new Error();\n        } catch (err) {\n            return err;\n        }\n    };\n\n    /**\n     * Merge 2 given Objects. If a conflict occurs the second object wins.\n     * Does not do deep merges.\n     *\n     * @param {Object} first base object\n     * @param {Object} second overrides\n     * @returns {Object} merged first and second\n     * @private\n     */\n    function _merge(first, second) {\n        var target = {};\n\n        [first, second].forEach(function(obj) {\n            for (var prop in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                    target[prop] = obj[prop];\n                }\n            }\n            return target;\n        });\n\n        return target;\n    }\n\n    function _isShapedLikeParsableError(err) {\n        return err.stack || err['opera#sourceloc'];\n    }\n\n    function _filtered(stackframes, filter) {\n        if (typeof filter === 'function') {\n            return stackframes.filter(filter);\n        }\n        return stackframes;\n    }\n\n    return {\n        /**\n         * Get a backtrace from invocation point.\n         *\n         * @param {Object} opts\n         * @returns {Array} of StackFrame\n         */\n        get: function StackTrace$$get(opts) {\n            var err = _generateError();\n            return _isShapedLikeParsableError(err) ? this.fromError(err, opts) : this.generateArtificially(opts);\n        },\n\n        /**\n         * Get a backtrace from invocation point.\n         * IMPORTANT: Does not handle source maps or guess function names!\n         *\n         * @param {Object} opts\n         * @returns {Array} of StackFrame\n         */\n        getSync: function StackTrace$$getSync(opts) {\n            opts = _merge(_options, opts);\n            var err = _generateError();\n            var stack = _isShapedLikeParsableError(err) ? ErrorStackParser.parse(err) : StackGenerator.backtrace(opts);\n            return _filtered(stack, opts.filter);\n        },\n\n        /**\n         * Given an error object, parse it.\n         *\n         * @param {Error} error object\n         * @param {Object} opts\n         * @returns {Promise} for Array[StackFrame}\n         */\n        fromError: function StackTrace$$fromError(error, opts) {\n            opts = _merge(_options, opts);\n            var gps = new StackTraceGPS(opts);\n            return new Promise(function(resolve) {\n                var stackframes = _filtered(ErrorStackParser.parse(error), opts.filter);\n                resolve(Promise.all(stackframes.map(function(sf) {\n                    return new Promise(function(resolve) {\n                        function resolveOriginal() {\n                            resolve(sf);\n                        }\n\n                        gps.pinpoint(sf).then(resolve, resolveOriginal)['catch'](resolveOriginal);\n                    });\n                })));\n            }.bind(this));\n        },\n\n        /**\n         * Use StackGenerator to generate a backtrace.\n         *\n         * @param {Object} opts\n         * @returns {Promise} of Array[StackFrame]\n         */\n        generateArtificially: function StackTrace$$generateArtificially(opts) {\n            opts = _merge(_options, opts);\n            var stackFrames = StackGenerator.backtrace(opts);\n            if (typeof opts.filter === 'function') {\n                stackFrames = stackFrames.filter(opts.filter);\n            }\n            return Promise.resolve(stackFrames);\n        },\n\n        /**\n         * Given a function, wrap it such that invocations trigger a callback that\n         * is called with a stack trace.\n         *\n         * @param {Function} fn to be instrumented\n         * @param {Function} callback function to call with a stack trace on invocation\n         * @param {Function} errback optional function to call with error if unable to get stack trace.\n         * @param {Object} thisArg optional context object (e.g. window)\n         */\n        instrument: function StackTrace$$instrument(fn, callback, errback, thisArg) {\n            if (typeof fn !== 'function') {\n                throw new Error('Cannot instrument non-function object');\n            } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n                // Already instrumented, return given Function\n                return fn;\n            }\n\n            var instrumented = function StackTrace$$instrumented() {\n                try {\n                    this.get().then(callback, errback)['catch'](errback);\n                    return fn.apply(thisArg || this, arguments);\n                } catch (e) {\n                    if (_isShapedLikeParsableError(e)) {\n                        this.fromError(e).then(callback, errback)['catch'](errback);\n                    }\n                    throw e;\n                }\n            }.bind(this);\n            instrumented.__stacktraceOriginalFn = fn;\n\n            return instrumented;\n        },\n\n        /**\n         * Given a function that has been instrumented,\n         * revert the function to it's original (non-instrumented) state.\n         *\n         * @param {Function} fn to de-instrument\n         */\n        deinstrument: function StackTrace$$deinstrument(fn) {\n            if (typeof fn !== 'function') {\n                throw new Error('Cannot de-instrument non-function object');\n            } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n                return fn.__stacktraceOriginalFn;\n            } else {\n                // Function not instrumented, return original\n                return fn;\n            }\n        },\n\n        /**\n         * Given an error message and Array of StackFrames, serialize and POST to given URL.\n         *\n         * @param {Array} stackframes\n         * @param {String} url\n         * @param {String} errorMsg\n         * @param {Object} requestOptions\n         */\n        report: function StackTrace$$report(stackframes, url, errorMsg, requestOptions) {\n            return new Promise(function(resolve, reject) {\n                var req = new XMLHttpRequest();\n                req.onerror = reject;\n                req.onreadystatechange = function onreadystatechange() {\n                    if (req.readyState === 4) {\n                        if (req.status >= 200 && req.status < 400) {\n                            resolve(req.responseText);\n                        } else {\n                            reject(new Error('POST to ' + url + ' failed with status: ' + req.status));\n                        }\n                    }\n                };\n                req.open('post', url);\n\n                // Set request headers\n                req.setRequestHeader('Content-Type', 'application/json');\n                if (requestOptions && typeof requestOptions.headers === 'object') {\n                    var headers = requestOptions.headers;\n                    for (var header in headers) {\n                        if (Object.prototype.hasOwnProperty.call(headers, header)) {\n                            req.setRequestHeader(header, headers[header]);\n                        }\n                    }\n                }\n\n                var reportPayload = {stack: stackframes};\n                if (errorMsg !== undefined && errorMsg !== null) {\n                    reportPayload.message = errorMsg;\n                }\n\n                req.send(JSON.stringify(reportPayload));\n            });\n        }\n    };\n}));\n", "function e({base:t=\"\",routes:n=[]}={}){return{__proto__:new Proxy({},{get:(e,a,o)=>(e,...r)=>n.push([a.toUpperCase(),RegExp(`^${(t+e).replace(/(\\/?)\\*/g,\"($1.*)?\").replace(/\\/$/,\"\").replace(/:(\\w+)(\\?)?(\\.)?/g,\"$2(?<$1>[^/]+)$2$3\").replace(/\\.(?=[\\w(])/,\"\\\\.\").replace(/\\)\\.\\?\\(([^\\[]+)\\[\\^/g,\"?)\\\\.?($1(?<=\\\\.)[^\\\\.\")}/*$`),r])&&o}),routes:n,async handle(e,...r){let a,o,t=new URL(e.url);e.query=Object.fromEntries(t.searchParams);for(var[p,s,u]of n)if((p===e.method||\"ALL\"===p)&&(o=t.pathname.match(s))){e.params=o.groups;for(var c of u)if(void 0!==(a=await c(e.proxy||e,...r)))return a}}}}export default{Router:e};export{e as Router};\n", "var encode_1 = encode;\nvar MSB = 128, REST = 127, MSBALL = ~REST, INT = Math.pow(2, 31);\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n  while (num >= INT) {\n    out[offset++] = num & 255 | MSB;\n    num /= 128;\n  }\n  while (num & MSBALL) {\n    out[offset++] = num & 255 | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  encode.bytes = offset - oldOffset + 1;\n  return out;\n}\nvar decode = read;\nvar MSB$1 = 128, REST$1 = 127;\nfunction read(buf, offset) {\n  var res = 0, offset = offset || 0, shift = 0, counter = offset, b, l = buf.length;\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint');\n    }\n    b = buf[counter++];\n    res += shift < 28 ? (b & REST$1) << shift : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1);\n  read.bytes = counter - offset;\n  return res;\n}\nvar N1 = Math.pow(2, 7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\nvar length = function (value) {\n  return value < N1 ? 1 : value < N2 ? 2 : value < N3 ? 3 : value < N4 ? 4 : value < N5 ? 5 : value < N6 ? 6 : value < N7 ? 7 : value < N8 ? 8 : value < N9 ? 9 : 10;\n};\nvar varint = {\n  encode: encode_1,\n  decode: decode,\n  encodingLength: length\n};\nvar _brrp_varint = varint;\nexport default _brrp_varint;", "import varint from '../vendor/varint.js';\nexport const decode = data => {\n  const code = varint.decode(data);\n  return [\n    code,\n    varint.decode.bytes\n  ];\n};\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset);\n  return target;\n};\nexport const encodingLength = int => {\n  return varint.encodingLength(int);\n};", "const empty = new Uint8Array(0);\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '');\nconst fromHex = hex => {\n  const hexes = hex.match(/../g);\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty;\n};\nconst equals = (aa, bb) => {\n  if (aa === bb)\n    return true;\n  if (aa.byteLength !== bb.byteLength) {\n    return false;\n  }\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false;\n    }\n  }\n  return true;\n};\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array')\n    return o;\n  if (o instanceof ArrayBuffer)\n    return new Uint8Array(o);\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength);\n  }\n  throw new Error('Unknown type, must be binary type');\n};\nconst isBinary = o => o instanceof ArrayBuffer || ArrayBuffer.isView(o);\nconst fromString = str => new TextEncoder().encode(str);\nconst toString = b => new TextDecoder().decode(b);\nexport {\n  equals,\n  coerce,\n  isBinary,\n  fromHex,\n  toHex,\n  fromString,\n  toString,\n  empty\n};", "import {\n  coerce,\n  equals as equalBytes\n} from '../bytes.js';\nimport * as varint from '../varint.js';\nexport const create = (code, digest) => {\n  const size = digest.byteLength;\n  const sizeOffset = varint.encodingLength(code);\n  const digestOffset = sizeOffset + varint.encodingLength(size);\n  const bytes = new Uint8Array(digestOffset + size);\n  varint.encodeTo(code, bytes, 0);\n  varint.encodeTo(size, bytes, sizeOffset);\n  bytes.set(digest, digestOffset);\n  return new Digest(code, size, digest, bytes);\n};\nexport const decode = multihash => {\n  const bytes = coerce(multihash);\n  const [code, sizeOffset] = varint.decode(bytes);\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset));\n  const digest = bytes.subarray(sizeOffset + digestOffset);\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length');\n  }\n  return new Digest(code, size, digest, bytes);\n};\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true;\n  } else {\n    return a.code === b.code && a.size === b.size && equalBytes(a.bytes, b.bytes);\n  }\n};\nexport class Digest {\n  constructor(code, size, digest, bytes) {\n    this.code = code;\n    this.size = size;\n    this.digest = digest;\n    this.bytes = bytes;\n  }\n}", "function base(ALPHABET, name) {\n  if (ALPHABET.length >= 255) {\n    throw new TypeError('Alphabet too long');\n  }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) {\n      throw new TypeError(x + ' is ambiguous');\n    }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256);\n  var iFACTOR = Math.log(256) / Math.log(BASE);\n  function encode(source) {\n    if (source instanceof Uint8Array);\n    else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) {\n      throw new TypeError('Expected Uint8Array');\n    }\n    if (source.length === 0) {\n      return '';\n    }\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n    var size = (pend - pbegin) * iFACTOR + 1 >>> 0;\n    var b58 = new Uint8Array(size);\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && it1 !== -1; it1--, i++) {\n        carry += 256 * b58[it1] >>> 0;\n        b58[it1] = carry % BASE >>> 0;\n        carry = carry / BASE >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      pbegin++;\n    }\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) {\n      str += ALPHABET.charAt(b58[it2]);\n    }\n    return str;\n  }\n  function decodeUnsafe(source) {\n    if (typeof source !== 'string') {\n      throw new TypeError('Expected String');\n    }\n    if (source.length === 0) {\n      return new Uint8Array();\n    }\n    var psz = 0;\n    if (source[psz] === ' ') {\n      return;\n    }\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n    var size = (source.length - psz) * FACTOR + 1 >>> 0;\n    var b256 = new Uint8Array(size);\n    while (source[psz]) {\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n      if (carry === 255) {\n        return;\n      }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && it3 !== -1; it3--, i++) {\n        carry += BASE * b256[it3] >>> 0;\n        b256[it3] = carry % 256 >>> 0;\n        carry = carry / 256 >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      psz++;\n    }\n    if (source[psz] === ' ') {\n      return;\n    }\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch;\n  }\n  function decode(string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) {\n      return buffer;\n    }\n    throw new Error(`Non-${ name } character`);\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  };\n}\nvar src = base;\nvar _brrp__multiformats_scope_baseX = src;\nexport default _brrp__multiformats_scope_baseX;", "import basex from '../../vendor/base-x.js';\nimport { coerce } from '../bytes.js';\nclass Encoder {\n  constructor(name, prefix, baseEncode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n  }\n  encode(bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${ this.prefix }${ this.baseEncode(bytes) }`;\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}\nclass Decoder {\n  constructor(name, prefix, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character');\n    }\n    this.prefixCodePoint = prefix.codePointAt(0);\n    this.baseDecode = baseDecode;\n  }\n  decode(text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${ JSON.stringify(text) }, ${ this.name } decoder only supports inputs prefixed with ${ this.prefix }`);\n      }\n      return this.baseDecode(text.slice(this.prefix.length));\n    } else {\n      throw Error('Can only multibase decode strings');\n    }\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n}\nclass ComposedDecoder {\n  constructor(decoders) {\n    this.decoders = decoders;\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n  decode(input) {\n    const prefix = input[0];\n    const decoder = this.decoders[prefix];\n    if (decoder) {\n      return decoder.decode(input);\n    } else {\n      throw RangeError(`Unable to decode multibase string ${ JSON.stringify(input) }, only inputs prefixed with ${ Object.keys(this.decoders) } are supported`);\n    }\n  }\n}\nexport const or = (left, right) => new ComposedDecoder({\n  ...left.decoders || { [left.prefix]: left },\n  ...right.decoders || { [right.prefix]: right }\n});\nexport class Codec {\n  constructor(name, prefix, baseEncode, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n    this.baseDecode = baseDecode;\n    this.encoder = new Encoder(name, prefix, baseEncode);\n    this.decoder = new Decoder(name, prefix, baseDecode);\n  }\n  encode(input) {\n    return this.encoder.encode(input);\n  }\n  decode(input) {\n    return this.decoder.decode(input);\n  }\n}\nexport const from = ({name, prefix, encode, decode}) => new Codec(name, prefix, encode, decode);\nexport const baseX = ({prefix, name, alphabet}) => {\n  const {encode, decode} = basex(alphabet, name);\n  return from({\n    prefix,\n    name,\n    encode,\n    decode: text => coerce(decode(text))\n  });\n};\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  const codes = {};\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i;\n  }\n  let end = string.length;\n  while (string[end - 1] === '=') {\n    --end;\n  }\n  const out = new Uint8Array(end * bitsPerChar / 8 | 0);\n  let bits = 0;\n  let buffer = 0;\n  let written = 0;\n  for (let i = 0; i < end; ++i) {\n    const value = codes[string[i]];\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${ name } character`);\n    }\n    buffer = buffer << bitsPerChar | value;\n    bits += bitsPerChar;\n    if (bits >= 8) {\n      bits -= 8;\n      out[written++] = 255 & buffer >> bits;\n    }\n  }\n  if (bits >= bitsPerChar || 255 & buffer << 8 - bits) {\n    throw new SyntaxError('Unexpected end of data');\n  }\n  return out;\n};\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '=';\n  const mask = (1 << bitsPerChar) - 1;\n  let out = '';\n  let bits = 0;\n  let buffer = 0;\n  for (let i = 0; i < data.length; ++i) {\n    buffer = buffer << 8 | data[i];\n    bits += 8;\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar;\n      out += alphabet[mask & buffer >> bits];\n    }\n  }\n  if (bits) {\n    out += alphabet[mask & buffer << bitsPerChar - bits];\n  }\n  if (pad) {\n    while (out.length * bitsPerChar & 7) {\n      out += '=';\n    }\n  }\n  return out;\n};\nexport const rfc4648 = ({name, prefix, bitsPerChar, alphabet}) => {\n  return from({\n    prefix,\n    name,\n    encode(input) {\n      return encode(input, alphabet, bitsPerChar);\n    },\n    decode(input) {\n      return decode(input, alphabet, bitsPerChar, name);\n    }\n  });\n};", "import { baseX } from './base.js';\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n});\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n});", "import { rfc4648 } from './base.js';\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n});\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n});\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n});\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n});\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n});\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n});\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n});\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n});\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n});", "import * as varint from './varint.js';\nimport * as Digest from './hashes/digest.js';\nimport { base58btc } from './bases/base58.js';\nimport { base32 } from './bases/base32.js';\nimport { coerce } from './bytes.js';\nexport class CID {\n  constructor(version, code, multihash, bytes) {\n    this.code = code;\n    this.version = version;\n    this.multihash = multihash;\n    this.bytes = bytes;\n    this.byteOffset = bytes.byteOffset;\n    this.byteLength = bytes.byteLength;\n    this.asCID = this;\n    this._baseCache = new Map();\n    Object.defineProperties(this, {\n      byteOffset: hidden,\n      byteLength: hidden,\n      code: readonly,\n      version: readonly,\n      multihash: readonly,\n      bytes: readonly,\n      _baseCache: hidden,\n      asCID: hidden\n    });\n  }\n  toV0() {\n    switch (this.version) {\n    case 0: {\n        return this;\n      }\n    default: {\n        const {code, multihash} = this;\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0');\n        }\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0');\n        }\n        return CID.createV0(multihash);\n      }\n    }\n  }\n  toV1() {\n    switch (this.version) {\n    case 0: {\n        const {code, digest} = this.multihash;\n        const multihash = Digest.create(code, digest);\n        return CID.createV1(this.code, multihash);\n      }\n    case 1: {\n        return this;\n      }\n    default: {\n        throw Error(`Can not convert CID version ${ this.version } to version 0. This is a bug please report`);\n      }\n    }\n  }\n  equals(other) {\n    return other && this.code === other.code && this.version === other.version && Digest.equals(this.multihash, other.multihash);\n  }\n  toString(base) {\n    const {bytes, version, _baseCache} = this;\n    switch (version) {\n    case 0:\n      return toStringV0(bytes, _baseCache, base || base58btc.encoder);\n    default:\n      return toStringV1(bytes, _baseCache, base || base32.encoder);\n    }\n  }\n  toJSON() {\n    return {\n      code: this.code,\n      version: this.version,\n      hash: this.multihash.bytes\n    };\n  }\n  get [Symbol.toStringTag]() {\n    return 'CID';\n  }\n  [Symbol.for('nodejs.util.inspect.custom')]() {\n    return 'CID(' + this.toString() + ')';\n  }\n  static isCID(value) {\n    deprecate(/^0\\.0/, IS_CID_DEPRECATION);\n    return !!(value && (value[cidSymbol] || value.asCID === value));\n  }\n  get toBaseEncodedString() {\n    throw new Error('Deprecated, use .toString()');\n  }\n  get codec() {\n    throw new Error('\"codec\" property is deprecated, use integer \"code\" property instead');\n  }\n  get buffer() {\n    throw new Error('Deprecated .buffer property, use .bytes to get Uint8Array instead');\n  }\n  get multibaseName() {\n    throw new Error('\"multibaseName\" property is deprecated');\n  }\n  get prefix() {\n    throw new Error('\"prefix\" property is deprecated');\n  }\n  static asCID(value) {\n    if (value instanceof CID) {\n      return value;\n    } else if (value != null && value.asCID === value) {\n      const {version, code, multihash, bytes} = value;\n      return new CID(version, code, multihash, bytes || encodeCID(version, code, multihash.bytes));\n    } else if (value != null && value[cidSymbol] === true) {\n      const {version, multihash, code} = value;\n      const digest = Digest.decode(multihash);\n      return CID.create(version, code, digest);\n    } else {\n      return null;\n    }\n  }\n  static create(version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported');\n    }\n    switch (version) {\n    case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(`Version 0 CID must use dag-pb (code: ${ DAG_PB_CODE }) block encoding`);\n        } else {\n          return new CID(version, code, digest, digest.bytes);\n        }\n      }\n    case 1: {\n        const bytes = encodeCID(version, code, digest.bytes);\n        return new CID(version, code, digest, bytes);\n      }\n    default: {\n        throw new Error('Invalid version');\n      }\n    }\n  }\n  static createV0(digest) {\n    return CID.create(0, DAG_PB_CODE, digest);\n  }\n  static createV1(code, digest) {\n    return CID.create(1, code, digest);\n  }\n  static decode(bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes);\n    if (remainder.length) {\n      throw new Error('Incorrect length');\n    }\n    return cid;\n  }\n  static decodeFirst(bytes) {\n    const specs = CID.inspectBytes(bytes);\n    const prefixSize = specs.size - specs.multihashSize;\n    const multihashBytes = coerce(bytes.subarray(prefixSize, prefixSize + specs.multihashSize));\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length');\n    }\n    const digestBytes = multihashBytes.subarray(specs.multihashSize - specs.digestSize);\n    const digest = new Digest.Digest(specs.multihashCode, specs.digestSize, digestBytes, multihashBytes);\n    const cid = specs.version === 0 ? CID.createV0(digest) : CID.createV1(specs.codec, digest);\n    return [\n      cid,\n      bytes.subarray(specs.size)\n    ];\n  }\n  static inspectBytes(initialBytes) {\n    let offset = 0;\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset));\n      offset += length;\n      return i;\n    };\n    let version = next();\n    let codec = DAG_PB_CODE;\n    if (version === 18) {\n      version = 0;\n      offset = 0;\n    } else if (version === 1) {\n      codec = next();\n    }\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${ version }`);\n    }\n    const prefixSize = offset;\n    const multihashCode = next();\n    const digestSize = next();\n    const size = offset + digestSize;\n    const multihashSize = size - prefixSize;\n    return {\n      version,\n      codec,\n      multihashCode,\n      digestSize,\n      multihashSize,\n      size\n    };\n  }\n  static parse(source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base);\n    const cid = CID.decode(bytes);\n    cid._baseCache.set(prefix, source);\n    return cid;\n  }\n}\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n  case 'Q': {\n      const decoder = base || base58btc;\n      return [\n        base58btc.prefix,\n        decoder.decode(`${ base58btc.prefix }${ source }`)\n      ];\n    }\n  case base58btc.prefix: {\n      const decoder = base || base58btc;\n      return [\n        base58btc.prefix,\n        decoder.decode(source)\n      ];\n    }\n  case base32.prefix: {\n      const decoder = base || base32;\n      return [\n        base32.prefix,\n        decoder.decode(source)\n      ];\n    }\n  default: {\n      if (base == null) {\n        throw Error('To parse non base32 or base58btc encoded CID multibase decoder must be provided');\n      }\n      return [\n        source[0],\n        base.decode(source)\n      ];\n    }\n  }\n};\nconst toStringV0 = (bytes, cache, base) => {\n  const {prefix} = base;\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${ base.name } encoding`);\n  }\n  const cid = cache.get(prefix);\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1);\n    cache.set(prefix, cid);\n    return cid;\n  } else {\n    return cid;\n  }\n};\nconst toStringV1 = (bytes, cache, base) => {\n  const {prefix} = base;\n  const cid = cache.get(prefix);\n  if (cid == null) {\n    const cid = base.encode(bytes);\n    cache.set(prefix, cid);\n    return cid;\n  } else {\n    return cid;\n  }\n};\nconst DAG_PB_CODE = 112;\nconst SHA_256_CODE = 18;\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version);\n  const hashOffset = codeOffset + varint.encodingLength(code);\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength);\n  varint.encodeTo(version, bytes, 0);\n  varint.encodeTo(code, bytes, codeOffset);\n  bytes.set(multihash, hashOffset);\n  return bytes;\n};\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID');\nconst readonly = {\n  writable: false,\n  configurable: false,\n  enumerable: true\n};\nconst hidden = {\n  writable: false,\n  enumerable: false,\n  configurable: false\n};\nconst version = '0.0.0-dev';\nconst deprecate = (range, message) => {\n  if (range.test(version)) {\n    console.warn(message);\n  } else {\n    throw new Error(message);\n  }\n};\nconst IS_CID_DEPRECATION = `CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n`;", "export class InvalidUrlError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message = 'invalid URL') {\n    const status = 400\n    super(createErrorHtmlContent(status, message))\n    this.name = 'InvalidUrlError'\n    this.status = status\n    this.code = InvalidUrlError.CODE\n    this.contentType = 'text/html'\n  }\n}\nInvalidUrlError.CODE = 'ERROR_INVALID_URL'\n\nexport const createErrorHtmlContent = (/** @type {number} */ status, /** @type {string} */ message) => `<html>\n<head><title>${status} ${message}</title></head>\n<body>\n<div style=\"text-align:center\">\n<h1>${status} ${message}</h1>\n</div>\n</body>\n</html>\n`\n", "/* eslint-env serviceworker, browser */\n\nimport { CID } from 'multiformats/cid'\nimport { InvalidUrlError } from './errors.js'\n\n/**\n * Handle gateway request\n *\n * @param {Request} request\n * @param {import('./env').Env} env\n */\nexport async function ipfsGet (request, env) {\n  // @ts-ignore params in CF request\n  const cid = request.params.cid\n  const reqUrl = new URL(request.url)\n  const reqQueryString = reqUrl.searchParams.toString()\n\n  // Get pathname to query from URL pathname avoiding potential CID appear in the domain\n  const redirectPath = reqUrl.pathname.split(cid).slice(1).join(cid)\n  const redirectQueryString = reqQueryString ? `?${reqQueryString}` : ''\n\n  // Parse and normalize CID\n  let nCid\n  try {\n    nCid = normalizeCid(cid)\n  } catch (/** @type {any} */ err) {\n    throw new InvalidUrlError(`invalid CID: ${cid}: ${err.message}`)\n  }\n  const url = new URL(\n    `https://${nCid}.${env.IPFS_GATEWAY_HOSTNAME}${redirectPath}${redirectQueryString}`\n  )\n\n  return Response.redirect(url.toString(), 301)\n}\n\n/**\n * @param {string} cid\n * @returns\n */\nfunction normalizeCid (cid) {\n  const c = CID.parse(cid)\n  return c.toV1().toString()\n}\n", "/* eslint-env serviceworker, browser */\n\nimport { InvalidUrlError } from './errors.js'\n\nconst DNS_LABEL_MAX_LENGTH = 63 // Label's max length in DNS (https://tools.ietf.org/html/rfc1034#page-7)\n\n/**\n * Handle IPNS path request\n *\n * @param {Request} request\n * @param {import('./env').Env} env\n */\nexport async function ipnsGet (request, env) {\n  // @ts-ignore params in CF request\n  const name = request.params.name\n  const reqUrl = new URL(request.url)\n  const reqQueryString = reqUrl.searchParams.toString()\n\n  // Get pathname to query from URL pathname avoiding potential name appear in the domain\n  const redirectPath = reqUrl.pathname.split(name).slice(1).join(name)\n  const redirectQueryString = reqQueryString ? `?${reqQueryString}` : ''\n  const dnsLabel = toDNSLinkDNSLabel(name)\n\n  const url = new URL(\n    `https://${dnsLabel}.${env.IPNS_GATEWAY_HOSTNAME}${redirectPath}${redirectQueryString}`\n  )\n\n  return Response.redirect(url.toString(), 302)\n}\n\n/**\n * Converts a FQDN to DNS-safe representation that fits in 63 characters.\n * Example: my.v-long.example.com \u2192 my-v--long-example-com\n * @param {string} fqdn\n */\nfunction toDNSLinkDNSLabel (fqdn) {\n  const dnsLabel = fqdn.replaceAll('-', '--').replaceAll('.', '-')\n\n  if (dnsLabel.length > DNS_LABEL_MAX_LENGTH) {\n    throw new InvalidUrlError(\n      `invalid FQDN: ${fqdn}: longer than max length: ${DNS_LABEL_MAX_LENGTH}`\n    )\n  }\n\n  return dnsLabel\n}\n", "export class JSONResponse extends Response {\n  /**\n   *\n   * @param {unknown} body\n   * @param {ResponseInit} [init]\n   */\n  constructor(body, init = {}) {\n    const headers = {\n      headers: {\n        'content-type': 'application/json;charset=UTF-8',\n      },\n    }\n    super(JSON.stringify(body), { ...init, ...headers })\n  }\n\n  /**\n   * @param {unknown} body\n   * @param {ResponseInit} [init]\n   */\n  static respond(body, init = {}) {\n    return new JSONResponse(body, init)\n  }\n}\n\n/**\n *\n * @param {Request} req\n */\nexport function notFound(req) {\n  return new JSONResponse(\n    {\n      error: {\n        code: 'NOT_FOUND',\n        message: `Route for ${req.url} was not found.`,\n      },\n    },\n    { status: 404 }\n  )\n}\n", "import { JSONResponse } from '@web3-storage/worker-utils/response'\n\n/**\n * Get edge gateway API version information.\n *\n * @param {Request} request\n * @param {import('./env').Env} env\n */\nexport async function versionGet (request, env) {\n  return new JSONResponse({\n    version: env.VERSION,\n    commit: env.COMMITHASH,\n    branch: env.BRANCH\n  })\n}\n", "import retry from 'retry';\n\nconst networkErrorMsgs = new Set([\n\t'Failed to fetch', // Chrome\n\t'NetworkError when attempting to fetch resource.', // Firefox\n\t'The Internet connection appears to be offline.', // Safari\n\t'Network request failed', // `cross-fetch`\n\t'fetch failed', // Undici (Node.js)\n]);\n\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\n\t\tif (message instanceof Error) {\n\t\t\tthis.originalError = message;\n\t\t\t({message} = message);\n\t\t} else {\n\t\t\tthis.originalError = new Error(message);\n\t\t\tthis.originalError.stack = this.stack;\n\t\t}\n\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\nconst decorateErrorWithCounts = (error, attemptNumber, options) => {\n\t// Minus 1 from attemptNumber because the first attempt does not count as a retry\n\tconst retriesLeft = options.retries - (attemptNumber - 1);\n\n\terror.attemptNumber = attemptNumber;\n\terror.retriesLeft = retriesLeft;\n\treturn error;\n};\n\nconst isNetworkError = errorMessage => networkErrorMsgs.has(errorMessage);\n\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new Error(errorMessage)\n\t: new DOMException(errorMessage);\n\nexport default async function pRetry(input, options) {\n\treturn new Promise((resolve, reject) => {\n\t\toptions = {\n\t\t\tonFailedAttempt() {},\n\t\t\tretries: 10,\n\t\t\t...options,\n\t\t};\n\n\t\tconst operation = retry.operation(options);\n\n\t\toperation.attempt(async attemptNumber => {\n\t\t\ttry {\n\t\t\t\tresolve(await input(attemptNumber));\n\t\t\t} catch (error) {\n\t\t\t\tif (!(error instanceof Error)) {\n\t\t\t\t\treject(new TypeError(`Non-error was thrown: \"${error}\". You should only throw errors.`));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (error instanceof AbortError) {\n\t\t\t\t\toperation.stop();\n\t\t\t\t\treject(error.originalError);\n\t\t\t\t} else if (error instanceof TypeError && !isNetworkError(error.message)) {\n\t\t\t\t\toperation.stop();\n\t\t\t\t\treject(error);\n\t\t\t\t} else {\n\t\t\t\t\tdecorateErrorWithCounts(error, attemptNumber, options);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait options.onFailedAttempt(error);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!operation.retry(error)) {\n\t\t\t\t\t\treject(operation.mainError());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (options.signal && !options.signal.aborted) {\n\t\t\toptions.signal.addEventListener('abort', () => {\n\t\t\t\toperation.stop();\n\t\t\t\tconst reason = options.signal.reason === undefined\n\t\t\t\t\t? getDOMException('The operation was aborted.')\n\t\t\t\t\t: options.signal.reason;\n\t\t\t\treject(reason instanceof Error ? reason : getDOMException(reason));\n\t\t\t}, {\n\t\t\t\tonce: true,\n\t\t\t});\n\t\t}\n\t});\n}\n", "/* eslint-env serviceworker, browser */\n\nimport { CID } from 'multiformats/cid'\nimport pRetry from 'p-retry'\n\nimport { InvalidUrlError } from './errors.js'\n\nconst PRODUCT_URL = 'https://web3.storage/products/w3link/'\nconst GOODBITS_BYPASS_TAG = 'https://leto.gg/tags/bypass-default-csp'\nconst IPFS_GATEWAYS = [\n  'https://*.leto.gg',\n  'https://*.nftstorage.link',\n  'https://*.dweb.link',\n  'https://ipfs.io/ipfs/'\n]\nconst DOTSTORAGE_APIS = ['https://*.web3.storage', 'https://*.nft.storage']\nconst ALLOWED_LIST = [\n  'https://*.githubusercontent.com',\n  'https://tableland.network',\n  'https://*.tableland.network'\n]\n\n/**\n * Handle gateway request\n *\n * @param {Request} request\n * @param {import('./env').Env} env\n */\nexport async function gatewayGet(request, env) {\n  // Redirect to product page\n  if (!request.url.includes('ipfs') && !request.url.includes('ipns')) {\n    return Response.redirect(\n      PRODUCT_URL,\n      302\n    )\n  }\n\n  // Redirect if ipns\n  if (request.url.includes(env.IPNS_GATEWAY_HOSTNAME)) {\n    return Response.redirect(\n      request.url.replace(env.IPNS_GATEWAY_HOSTNAME, 'ipns.dweb.link'),\n      302\n    )\n  }\n\n  const response = await env.EDGE_GATEWAY.fetch(request.url, {\n    headers: request.headers,\n    cf: {\n      ...request.cf || {},\n      // @ts-ignore custom entry in cf object\n      onlyIfCachedGateways: JSON.stringify(['https://nftstorage.link'])\n    }\n  })\n\n  // Validation layer - CSP bypass\n  const resourceCid = decodeURIComponent(\n    response.headers.get('etag') || getCidFromSubdomainUrl(new URL(request.url))\n  )\n  const goodbitsTags = await getTagsFromGoodbitsList(\n    env.GOODBITSLIST,\n    resourceCid\n  )\n  if (goodbitsTags.includes(GOODBITS_BYPASS_TAG)) {\n    return response\n  }\n\n  return getTransformedResponseWithCspHeaders(response, env)\n}\n\n/**\n * Transforms response with custom headers.\n * Content-Security-Policy header specified to only allow requests within same origin.\n *\n * @param {Response} response\n * @param {import('./bindings').Env} env\n */\nfunction getTransformedResponseWithCspHeaders(response, env) {\n  const clonedResponse = new Response(response.body, response)\n  const defaultSrc = `'self' 'unsafe-inline' 'unsafe-eval' blob: data: ${IPFS_GATEWAYS.join(' ')} ${DOTSTORAGE_APIS.join(' ')} ${ALLOWED_LIST.join(' ')}`\n  const connectSrc = `'self' blob: data: ${IPFS_GATEWAYS.join(' ')} ${DOTSTORAGE_APIS.join(' ')} ${ALLOWED_LIST.join(' ')}`\n  const reportUri = env.CSP_REPORT_URI\n\n  clonedResponse.headers.set(\n    'content-security-policy',\n    `default-src ${defaultSrc} ; form-action 'self'; navigate-to 'self'; connect-src ${connectSrc} ; report-to csp-endpoint ; report-uri ${reportUri}`\n  )\n\n  reportUri && clonedResponse.headers.set(\n    'reporting-endpoints',\n    `csp-endpoint=\"${reportUri}\"`\n  )\n\n  return clonedResponse\n}\n\n/**\n * Get a given entry from the goodbits list if CID exists, and return tags\n *\n * @param {KVNamespace} datastore\n * @param {string} cid\n */\nasync function getTagsFromGoodbitsList(datastore, cid) {\n  if (!datastore || !cid) {\n    return []\n  }\n\n  const goodbitsEntry = await pRetry(() => datastore.get(cid), { retries: 5 })\n\n  if (goodbitsEntry) {\n    const { tags } = JSON.parse(goodbitsEntry)\n    return Array.isArray(tags) ? tags : []\n  }\n\n  return []\n}\n\n/**\n * Parse subdomain URL and return cid.\n *\n * @param {URL} url\n */\nexport function getCidFromSubdomainUrl(url) {\n  // Replace \"ipfs-staging\" by \"ipfs\" if needed\n  const host = url.hostname.replace('ipfs-staging', 'ipfs')\n  const splitHost = host.split('.ipfs.')\n\n  if (!splitHost.length) {\n    throw new InvalidUrlError(url.hostname)\n  }\n\n  let cid\n  try {\n    cid = CID.parse(splitHost[0])\n  } catch (/** @type {any} */ err) {\n    throw new InvalidUrlError(`invalid CID: ${splitHost[0]}: ${err.message}`)\n  }\n\n  return cid.toV1().toString()\n}\n", "/* eslint-env serviceworker */\n\n/**\n * @param {import('itty-router').RouteHandler} handler\n * @returns {import('itty-router').RouteHandler}\n */\nexport function withCorsHeaders (handler) {\n  /**\n   * @param {Request} request\n   * @returns {Promise<Response>}\n   */\n  return async (request, ...rest) => {\n    const response = await handler(request, ...rest)\n    return addCorsHeaders(request, response)\n  }\n}\n\n/**\n * @param {Request} request\n * @param {Response} response\n * @returns {Response}\n */\nexport function addCorsHeaders (request, response) {\n  // Clone the response so that it's no longer immutable (like if it comes from cache or fetch)\n  response = new Response(response.body, response)\n  const origin = request.headers.get('origin')\n  if (origin) {\n    response.headers.set('Access-Control-Allow-Origin', origin)\n    response.headers.set('Vary', 'Origin')\n  } else {\n    response.headers.set('Access-Control-Allow-Origin', '*')\n  }\n  response.headers.set('Access-Control-Expose-Headers', 'Link')\n  return response\n}\n", "/* eslint-env serviceworker, browser */\n\n/**\n * @param {Error & {status?: number;code?: string; contentType?: string;}} err\n * @param {import('./env').Env} env\n */\nexport function errorHandler (err, env) {\n  console.error(err.stack)\n\n  const status = err.status || 500\n\n  if (env.sentry && status >= 500) {\n    env.log.error(err)\n  }\n\n  return new Response(err.message || 'Server Error', {\n    status,\n    headers: {\n      'content-type': err.contentType || 'text/plain'\n    }\n  })\n}\n", "import tslib from '../tslib.js';\r\nconst {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __exportStar,\r\n    __createBinding,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n} = tslib;\r\nexport {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __exportStar,\r\n    __createBinding,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n};\r\n", "/*\n * This module exists for optimizations in the build process through rollup and terser.  We define some global\n * constants, which can be overridden during build. By guarding certain pieces of code with functions that return these\n * constants, we can control whether or not they appear in the final bundle. (Any code guarded by a false condition will\n * never run, and will hence be dropped during treeshaking.) The two primary uses for this are stripping out calls to\n * `logger` and preventing node-related code from appearing in browser bundles.\n *\n * Attention:\n * This file should not be used to define constants/flags that are intended to be used for tree-shaking conducted by\n * users. These fags should live in their respective packages, as we identified user tooling (specifically webpack)\n * having issues tree-shaking these constants across package boundaries.\n * An example for this is the __SENTRY_DEBUG__ constant. It is declared in each package individually because we want\n * users to be able to shake away expressions that it guards.\n */\n\ndeclare const __SENTRY_BROWSER_BUNDLE__: boolean | undefined;\n\n/**\n * Figures out if we're building a browser bundle.\n *\n * @returns true if this is a browser bundle build.\n */\nexport function isBrowserBundle(): boolean {\n  return typeof __SENTRY_BROWSER_BUNDLE__ !== 'undefined' && !!__SENTRY_BROWSER_BUNDLE__;\n}\n", "/**\n * NOTE: In order to avoid circular dependencies, if you add a function to this module and it needs to print something,\n * you must either a) use `console.log` rather than the logger, or b) put your function elsewhere.\n */\n\nimport { isBrowserBundle } from './env';\n\n/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nexport function isNodeEnv(): boolean {\n  // explicitly check for browser bundles as those can be optimized statically\n  // by terser/rollup.\n  return (\n    !isBrowserBundle() &&\n    Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]'\n  );\n}\n\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nexport function dynamicRequire(mod: any, request: string): any {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return mod.require(request);\n}\n\n/**\n * Helper for dynamically loading module that should work with linked dependencies.\n * The problem is that we _should_ be using `require(require.resolve(moduleName, { paths: [cwd()] }))`\n * However it's _not possible_ to do that with Webpack, as it has to know all the dependencies during\n * build time. `require.resolve` is also not available in any other way, so we cannot create,\n * a fake helper like we do with `dynamicRequire`.\n *\n * We always prefer to use local package, thus the value is not returned early from each `try/catch` block.\n * That is to mimic the behavior of `require.resolve` exactly.\n *\n * @param moduleName module name to require\n * @returns possibly required module\n */\nexport function loadModule<T>(moduleName: string): T | undefined {\n  let mod: T | undefined;\n\n  try {\n    mod = dynamicRequire(module, moduleName);\n  } catch (e) {\n    // no-empty\n  }\n\n  try {\n    const { cwd } = dynamicRequire(module, 'process');\n    mod = dynamicRequire(module, `${cwd()}/node_modules/${moduleName}`) as T;\n  } catch (e) {\n    // no-empty\n  }\n\n  return mod;\n}\n", "/**\n * NOTE: In order to avoid circular dependencies, if you add a function to this module and it needs to print something,\n * you must either a) use `console.log` rather than the logger, or b) put your function elsewhere.\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { Integration } from '@sentry/types';\n\nimport { isNodeEnv } from './node';\n\n/** Internal */\ninterface SentryGlobal {\n  Sentry?: {\n    Integrations?: Integration[];\n  };\n  SENTRY_ENVIRONMENT?: string;\n  SENTRY_DSN?: string;\n  SENTRY_RELEASE?: {\n    id?: string;\n  };\n  __SENTRY__: {\n    globalEventProcessors: any;\n    hub: any;\n    logger: any;\n  };\n}\n\nconst fallbackGlobalObject = {};\n\n/**\n * Safely get global scope object\n *\n * @returns Global scope object\n */\nexport function getGlobalObject<T>(): T & SentryGlobal {\n  return (\n    isNodeEnv()\n      ? global\n      : typeof window !== 'undefined' // eslint-disable-line no-restricted-globals\n      ? window // eslint-disable-line no-restricted-globals\n      : typeof self !== 'undefined'\n      ? self\n      : fallbackGlobalObject\n  ) as T & SentryGlobal;\n}\n\n/**\n * Returns a global singleton contained in the global `__SENTRY__` object.\n *\n * If the singleton doesn't already exist in `__SENTRY__`, it will be created using the given factory\n * function and added to the `__SENTRY__` object.\n *\n * @param name name of the global singleton on __SENTRY__\n * @param creator creator Factory function to create the singleton if it doesn't already exist on `__SENTRY__`\n * @param obj (Optional) The global object on which to look for `__SENTRY__`, if not `getGlobalObject`'s return value\n * @returns the singleton\n */\nexport function getGlobalSingleton<T>(name: keyof SentryGlobal['__SENTRY__'], creator: () => T, obj?: unknown): T {\n  const global = (obj || getGlobalObject()) as SentryGlobal;\n  const __SENTRY__ = (global.__SENTRY__ = global.__SENTRY__ || {});\n  const singleton = __SENTRY__[name] || (__SENTRY__[name] = creator());\n  return singleton;\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\nimport { Primitive } from '@sentry/types';\n\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst objectToString = Object.prototype.toString;\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isError(wat: unknown): wat is Error {\n  switch (objectToString.call(wat)) {\n    case '[object Error]':\n    case '[object Exception]':\n    case '[object DOMException]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n\nfunction isBuiltin(wat: unknown, ty: string): boolean {\n  return objectToString.call(wat) === `[object ${ty}]`;\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isErrorEvent(wat: unknown): boolean {\n  return isBuiltin(wat, 'ErrorEvent');\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMError(wat: unknown): boolean {\n  return isBuiltin(wat, 'DOMError');\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMException(wat: unknown): boolean {\n  return isBuiltin(wat, 'DOMException');\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isString(wat: unknown): wat is string {\n  return isBuiltin(wat, 'String');\n}\n\n/**\n * Checks whether given value is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPrimitive(wat: unknown): wat is Primitive {\n  return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPlainObject(wat: unknown): wat is Record<string, unknown> {\n  return isBuiltin(wat, 'Object');\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isEvent(wat: unknown): boolean {\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isElement(wat: unknown): boolean {\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isRegExp(wat: unknown): wat is RegExp {\n  return isBuiltin(wat, 'RegExp');\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nexport function isThenable(wat: any): wat is PromiseLike<any> {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return Boolean(wat && wat.then && typeof wat.then === 'function');\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isSyntheticEvent(wat: unknown): boolean {\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n\n/**\n * Checks whether given value is NaN\n * {@link isNaN}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isNaN(wat: unknown): boolean {\n  return typeof wat === 'number' && wat !== wat;\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nexport function isInstanceOf(wat: any, base: any): boolean {\n  try {\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n", "import { getGlobalObject } from './global';\nimport { isString } from './is';\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nexport function htmlTreeAsString(elem: unknown, keyAttrs?: string[]): string {\n  type SimpleNode = {\n    parentNode: SimpleNode;\n  } | null;\n\n  // try/catch both:\n  // - accessing event.target (see getsentry/raven-js#838, #768)\n  // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n  // - can throw an exception in some circumstances.\n  try {\n    let currentElem = elem as SimpleNode;\n    const MAX_TRAVERSE_HEIGHT = 5;\n    const MAX_OUTPUT_LEN = 80;\n    const out = [];\n    let height = 0;\n    let len = 0;\n    const separator = ' > ';\n    const sepLength = separator.length;\n    let nextStr;\n\n    // eslint-disable-next-line no-plusplus\n    while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n      nextStr = _htmlElementAsString(currentElem, keyAttrs);\n      // bail out if\n      // - nextStr is the 'html' element\n      // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n      //   (ignore this limit if we are on the first iteration)\n      if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN)) {\n        break;\n      }\n\n      out.push(nextStr);\n\n      len += nextStr.length;\n      currentElem = currentElem.parentNode;\n    }\n\n    return out.reverse().join(separator);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\nfunction _htmlElementAsString(el: unknown, keyAttrs?: string[]): string {\n  const elem = el as {\n    tagName?: string;\n    id?: string;\n    className?: string;\n    getAttribute(key: string): string;\n  };\n\n  const out = [];\n  let className;\n  let classes;\n  let key;\n  let attr;\n  let i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n\n  // Pairs of attribute keys defined in `serializeAttribute` and their values on element.\n  const keyAttrPairs =\n    keyAttrs && keyAttrs.length\n      ? keyAttrs.filter(keyAttr => elem.getAttribute(keyAttr)).map(keyAttr => [keyAttr, elem.getAttribute(keyAttr)])\n      : null;\n\n  if (keyAttrPairs && keyAttrPairs.length) {\n    keyAttrPairs.forEach(keyAttrPair => {\n      out.push(`[${keyAttrPair[0]}=\"${keyAttrPair[1]}\"]`);\n    });\n  } else {\n    if (elem.id) {\n      out.push(`#${elem.id}`);\n    }\n\n    // eslint-disable-next-line prefer-const\n    className = elem.className;\n    if (className && isString(className)) {\n      classes = className.split(/\\s+/);\n      for (i = 0; i < classes.length; i++) {\n        out.push(`.${classes[i]}`);\n      }\n    }\n  }\n  const allowedAttrs = ['type', 'name', 'title', 'alt'];\n  for (i = 0; i < allowedAttrs.length; i++) {\n    key = allowedAttrs[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.push(`[${key}=\"${attr}\"]`);\n    }\n  }\n  return out.join('');\n}\n\n/**\n * A safe form of location.href\n */\nexport function getLocationHref(): string {\n  const global = getGlobalObject<Window>();\n  try {\n    return global.document.location.href;\n  } catch (oO) {\n    return '';\n  }\n}\n", "export const setPrototypeOf =\n  Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties);\n\n/**\n * setPrototypeOf polyfill using __proto__\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction setProtoOf<TTarget extends object, TProto>(obj: TTarget, proto: TProto): TTarget & TProto {\n  // @ts-ignore __proto__ does not exist on obj\n  obj.__proto__ = proto;\n  return obj as TTarget & TProto;\n}\n\n/**\n * setPrototypeOf polyfill using mixin\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction mixinProperties<TTarget extends object, TProto>(obj: TTarget, proto: TProto): TTarget & TProto {\n  for (const prop in proto) {\n    if (!Object.prototype.hasOwnProperty.call(obj, prop)) {\n      // @ts-ignore typescript complains about indexing so we remove\n      obj[prop] = proto[prop];\n    }\n  }\n\n  return obj as TTarget & TProto;\n}\n", "import { setPrototypeOf } from './polyfill';\n\n/** An error emitted by Sentry SDKs and related utilities. */\nexport class SentryError extends Error {\n  /** Display name of this error instance. */\n  public name: string;\n\n  public constructor(public message: string) {\n    super(message);\n\n    this.name = new.target.prototype.constructor.name;\n    setPrototypeOf(this, new.target.prototype);\n  }\n}\n", "/*\n * This file defines flags and constants that can be modified during compile time in order to facilitate tree shaking\n * for users.\n *\n * Debug flags need to be declared in each package individually and must not be imported across package boundaries,\n * because some build tools have trouble tree-shaking imported guards.\n *\n * As a convention, we define debug flags in a `flags.ts` file in the root of a package's `src` folder.\n *\n * Debug flag files will contain \"magic strings\" like `__SENTRY_DEBUG__` that may get replaced with actual values during\n * our, or the user's build process. Take care when introducing new flags - they must not throw if they are not\n * replaced.\n */\n\ndeclare const __SENTRY_DEBUG__: boolean;\n\n/** Flag that is true for debug builds, false otherwise. */\nexport const IS_DEBUG_BUILD = typeof __SENTRY_DEBUG__ === 'undefined' ? true : __SENTRY_DEBUG__;\n", "import { DsnComponents, DsnLike, DsnProtocol } from '@sentry/types';\n\nimport { SentryError } from './error';\nimport { IS_DEBUG_BUILD } from './flags';\n\n/** Regular expression used to parse a Dsn. */\nconst DSN_REGEX = /^(?:(\\w+):)\\/\\/(?:(\\w+)(?::(\\w+))?@)([\\w.-]+)(?::(\\d+))?\\/(.+)/;\n\nfunction isValidProtocol(protocol?: string): protocol is DsnProtocol {\n  return protocol === 'http' || protocol === 'https';\n}\n\n/**\n * Renders the string representation of this Dsn.\n *\n * By default, this will render the public representation without the password\n * component. To get the deprecated private representation, set `withPassword`\n * to true.\n *\n * @param withPassword When set to true, the password will be included.\n */\nexport function dsnToString(dsn: DsnComponents, withPassword: boolean = false): string {\n  const { host, path, pass, port, projectId, protocol, publicKey } = dsn;\n  return (\n    `${protocol}://${publicKey}${withPassword && pass ? `:${pass}` : ''}` +\n    `@${host}${port ? `:${port}` : ''}/${path ? `${path}/` : path}${projectId}`\n  );\n}\n\nfunction dsnFromString(str: string): DsnComponents {\n  const match = DSN_REGEX.exec(str);\n\n  if (!match) {\n    throw new SentryError(`Invalid Sentry Dsn: ${str}`);\n  }\n\n  const [protocol, publicKey, pass = '', host, port = '', lastPath] = match.slice(1);\n  let path = '';\n  let projectId = lastPath;\n\n  const split = projectId.split('/');\n  if (split.length > 1) {\n    path = split.slice(0, -1).join('/');\n    projectId = split.pop() as string;\n  }\n\n  if (projectId) {\n    const projectMatch = projectId.match(/^\\d+/);\n    if (projectMatch) {\n      projectId = projectMatch[0];\n    }\n  }\n\n  return dsnFromComponents({ host, pass, path, projectId, port, protocol: protocol as DsnProtocol, publicKey });\n}\n\nfunction dsnFromComponents(components: DsnComponents): DsnComponents {\n  // TODO this is for backwards compatibility, and can be removed in a future version\n  if ('user' in components && !('publicKey' in components)) {\n    components.publicKey = components.user;\n  }\n\n  return {\n    user: components.publicKey || '',\n    protocol: components.protocol,\n    publicKey: components.publicKey || '',\n    pass: components.pass || '',\n    host: components.host,\n    port: components.port || '',\n    path: components.path || '',\n    projectId: components.projectId,\n  };\n}\n\nfunction validateDsn(dsn: DsnComponents): boolean | void {\n  if (!IS_DEBUG_BUILD) {\n    return;\n  }\n\n  const { port, projectId, protocol } = dsn;\n\n  const requiredComponents: ReadonlyArray<keyof DsnComponents> = ['protocol', 'publicKey', 'host', 'projectId'];\n  requiredComponents.forEach(component => {\n    if (!dsn[component]) {\n      throw new SentryError(`Invalid Sentry Dsn: ${component} missing`);\n    }\n  });\n\n  if (!projectId.match(/^\\d+$/)) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid projectId ${projectId}`);\n  }\n\n  if (!isValidProtocol(protocol)) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid protocol ${protocol}`);\n  }\n\n  if (port && isNaN(parseInt(port, 10))) {\n    throw new SentryError(`Invalid Sentry Dsn: Invalid port ${port}`);\n  }\n\n  return true;\n}\n\n/** The Sentry Dsn, identifying a Sentry instance and project. */\nexport function makeDsn(from: DsnLike): DsnComponents {\n  const components = typeof from === 'string' ? dsnFromString(from) : dsnFromComponents(from);\n\n  validateDsn(components);\n\n  return components;\n}\n", "import { isRegExp, isString } from './is';\n\n/**\n * Truncates given string to the maximum characters count\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string (0 = unlimited)\n * @returns string Encoded\n */\nexport function truncate(str: string, max: number = 0): string {\n  if (typeof str !== 'string' || max === 0) {\n    return str;\n  }\n  return str.length <= max ? str : `${str.substr(0, max)}...`;\n}\n\n/**\n * This is basically just `trim_line` from\n * https://github.com/getsentry/sentry/blob/master/src/sentry/lang/javascript/processor.py#L67\n *\n * @param str An object that contains serializable values\n * @param max Maximum number of characters in truncated string\n * @returns string Encoded\n */\nexport function snipLine(line: string, colno: number): string {\n  let newLine = line;\n  const lineLength = newLine.length;\n  if (lineLength <= 150) {\n    return newLine;\n  }\n  if (colno > lineLength) {\n    // eslint-disable-next-line no-param-reassign\n    colno = lineLength;\n  }\n\n  let start = Math.max(colno - 60, 0);\n  if (start < 5) {\n    start = 0;\n  }\n\n  let end = Math.min(start + 140, lineLength);\n  if (end > lineLength - 5) {\n    end = lineLength;\n  }\n  if (end === lineLength) {\n    start = Math.max(end - 140, 0);\n  }\n\n  newLine = newLine.slice(start, end);\n  if (start > 0) {\n    newLine = `'{snip} ${newLine}`;\n  }\n  if (end < lineLength) {\n    newLine += ' {snip}';\n  }\n\n  return newLine;\n}\n\n/**\n * Join values in array\n * @param input array of values to be joined together\n * @param delimiter string to be placed in-between values\n * @returns Joined values\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function safeJoin(input: any[], delimiter?: string): string {\n  if (!Array.isArray(input)) {\n    return '';\n  }\n\n  const output = [];\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < input.length; i++) {\n    const value = input[i];\n    try {\n      output.push(String(value));\n    } catch (e) {\n      output.push('[value cannot be serialized]');\n    }\n  }\n\n  return output.join(delimiter);\n}\n\n/**\n * Checks if the value matches a regex or includes the string\n * @param value The string value to be checked against\n * @param pattern Either a regex or a string that must be contained in value\n */\nexport function isMatchingPattern(value: string, pattern: RegExp | string): boolean {\n  if (!isString(value)) {\n    return false;\n  }\n\n  if (isRegExp(pattern)) {\n    return pattern.test(value);\n  }\n  if (typeof pattern === 'string') {\n    return value.indexOf(pattern) !== -1;\n  }\n  return false;\n}\n\n/**\n * Given a string, escape characters which have meaning in the regex grammar, such that the result is safe to feed to\n * `new RegExp()`.\n *\n * Based on https://github.com/sindresorhus/escape-string-regexp. Vendored to a) reduce the size by skipping the runtime\n * type-checking, and b) ensure it gets down-compiled for old versions of Node (the published package only supports Node\n * 12+).\n *\n * @param regexString The string to escape\n * @returns An version of the string with all special regex characters escaped\n */\nexport function escapeStringForRegex(regexString: string): string {\n  // escape the hyphen separately so we can also replace it with a unicode literal hyphen, to avoid the problems\n  // discussed in https://github.com/sindresorhus/escape-string-regexp/issues/20.\n  return regexString.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&').replace(/-/g, '\\\\x2d');\n}\n", "/* eslint-disable max-lines */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ExtendedError, WrappedFunction } from '@sentry/types';\n\nimport { htmlTreeAsString } from './browser';\nimport { isElement, isError, isEvent, isInstanceOf, isPlainObject, isPrimitive } from './is';\nimport { truncate } from './string';\n\n/**\n * Replace a method in an object with a wrapped version of itself.\n *\n * @param source An object that contains a method to be wrapped.\n * @param name The name of the method to be wrapped.\n * @param replacementFactory A higher-order function that takes the original version of the given method and returns a\n * wrapped version. Note: The function returned by `replacementFactory` needs to be a non-arrow function, in order to\n * preserve the correct value of `this`, and the original method must be called using `origMethod.call(this, <other\n * args>)` or `origMethod.apply(this, [<other args>])` (rather than being called directly), again to preserve `this`.\n * @returns void\n */\nexport function fill(source: { [key: string]: any }, name: string, replacementFactory: (...args: any[]) => any): void {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] as () => any;\n  const wrapped = replacementFactory(original) as WrappedFunction;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  if (typeof wrapped === 'function') {\n    try {\n      markFunctionWrapped(wrapped, original);\n    } catch (_Oo) {\n      // This can throw if multiple fill happens on a global object like XMLHttpRequest\n      // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n  }\n\n  source[name] = wrapped;\n}\n\n/**\n * Defines a non-enumerable property on the given object.\n *\n * @param obj The object on which to set the property\n * @param name The name of the property to be set\n * @param value The value to which to set the property\n */\nexport function addNonEnumerableProperty(obj: { [key: string]: unknown }, name: string, value: unknown): void {\n  Object.defineProperty(obj, name, {\n    // enumerable: false, // the default, so we can save on bundle size by not explicitly setting it\n    value: value,\n    writable: true,\n    configurable: true,\n  });\n}\n\n/**\n * Remembers the original function on the wrapped function and\n * patches up the prototype.\n *\n * @param wrapped the wrapper function\n * @param original the original function that gets wrapped\n */\nexport function markFunctionWrapped(wrapped: WrappedFunction, original: WrappedFunction): void {\n  const proto = original.prototype || {};\n  wrapped.prototype = original.prototype = proto;\n  addNonEnumerableProperty(wrapped, '__sentry_original__', original);\n}\n\n/**\n * This extracts the original function if available.  See\n * `markFunctionWrapped` for more information.\n *\n * @param func the function to unwrap\n * @returns the unwrapped version of the function if available.\n */\nexport function getOriginalFunction(func: WrappedFunction): WrappedFunction | undefined {\n  return func.__sentry_original__;\n}\n\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nexport function urlEncode(object: { [key: string]: any }): string {\n  return Object.keys(object)\n    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(object[key])}`)\n    .join('&');\n}\n\n/**\n * Transforms any object into an object literal with all its attributes\n * attached to it.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n */\nexport function convertToPlainObject(value: unknown): {\n  [key: string]: unknown;\n} {\n  let newObj = value as {\n    [key: string]: unknown;\n  };\n\n  if (isError(value)) {\n    newObj = {\n      message: value.message,\n      name: value.name,\n      stack: value.stack,\n      ...getOwnProperties(value as ExtendedError),\n    };\n  } else if (isEvent(value)) {\n    /**\n     * Event-like interface that's usable in browser and node\n     */\n    interface SimpleEvent {\n      [key: string]: unknown;\n      type: string;\n      target?: unknown;\n      currentTarget?: unknown;\n    }\n\n    const event = value as SimpleEvent;\n\n    newObj = {\n      type: event.type,\n      target: serializeEventTarget(event.target),\n      currentTarget: serializeEventTarget(event.currentTarget),\n      ...getOwnProperties(event),\n    };\n\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      newObj.detail = event.detail;\n    }\n  }\n  return newObj;\n}\n\n/** Creates a string representation of the target of an `Event` object */\nfunction serializeEventTarget(target: unknown): string {\n  try {\n    return isElement(target) ? htmlTreeAsString(target) : Object.prototype.toString.call(target);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/** Filters out all but an object's own properties */\nfunction getOwnProperties(obj: { [key: string]: unknown }): { [key: string]: unknown } {\n  const extractedProps: { [key: string]: unknown } = {};\n  for (const property in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, property)) {\n      extractedProps[property] = obj[property];\n    }\n  }\n  return extractedProps;\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function extractExceptionKeysForMessage(exception: any, maxLength: number = 40): string {\n  const keys = Object.keys(convertToPlainObject(exception));\n  keys.sort();\n\n  if (!keys.length) {\n    return '[object has no keys]';\n  }\n\n  if (keys[0].length >= maxLength) {\n    return truncate(keys[0], maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return the new object with removed keys that value was `undefined`.\n * Works recursively on objects and arrays.\n */\nexport function dropUndefinedKeys<T>(val: T): T {\n  if (isPlainObject(val)) {\n    const rv: { [key: string]: any } = {};\n    for (const key of Object.keys(val)) {\n      if (typeof val[key] !== 'undefined') {\n        rv[key] = dropUndefinedKeys(val[key]);\n      }\n    }\n    return rv as T;\n  }\n\n  if (Array.isArray(val)) {\n    return (val as any[]).map(dropUndefinedKeys) as any;\n  }\n\n  return val;\n}\n\n/**\n * Ensure that something is an object.\n *\n * Turns `undefined` and `null` into `String`s and all other primitives into instances of their respective wrapper\n * classes (String, Boolean, Number, etc.). Acts as the identity function on non-primitives.\n *\n * @param wat The subject of the objectification\n * @returns A version of `wat` which can safely be used with `Object` class methods\n */\nexport function objectify(wat: unknown): typeof Object {\n  let objectified;\n  switch (true) {\n    case wat === undefined || wat === null:\n      objectified = new String(wat);\n      break;\n\n    // Though symbols and bigints do have wrapper classes (`Symbol` and `BigInt`, respectively), for whatever reason\n    // those classes don't have constructors which can be used with the `new` keyword. We therefore need to cast each as\n    // an object in order to wrap it.\n    case typeof wat === 'symbol' || typeof wat === 'bigint':\n      objectified = Object(wat);\n      break;\n\n    // this will catch the remaining primitives: `String`, `Number`, and `Boolean`\n    case isPrimitive(wat):\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      objectified = new (wat as any).constructor(wat);\n      break;\n\n    // by process of elimination, at this point we know that `wat` must already be an object\n    default:\n      objectified = wat;\n      break;\n  }\n  return objectified;\n}\n", "import { StackFrame } from '@sentry/types';\n\nconst STACKTRACE_LIMIT = 50;\n\nexport type StackParser = (stack: string, skipFirst?: number) => StackFrame[];\nexport type StackLineParserFn = (line: string) => StackFrame | undefined;\nexport type StackLineParser = [number, StackLineParserFn];\n\n/**\n * Creates a stack parser with the supplied line parsers\n *\n * StackFrames are returned in the correct order for Sentry Exception\n * frames and with Sentry SDK internal frames removed from the top and bottom\n *\n */\nexport function createStackParser(...parsers: StackLineParser[]): StackParser {\n  const sortedParsers = parsers.sort((a, b) => a[0] - b[0]).map(p => p[1]);\n\n  return (stack: string, skipFirst: number = 0): StackFrame[] => {\n    const frames: StackFrame[] = [];\n\n    for (const line of stack.split('\\n').slice(skipFirst)) {\n      for (const parser of sortedParsers) {\n        const frame = parser(line);\n\n        if (frame) {\n          frames.push(frame);\n          break;\n        }\n      }\n    }\n\n    return stripSentryFramesAndReverse(frames);\n  };\n}\n\n/**\n * @hidden\n */\nexport function stripSentryFramesAndReverse(stack: StackFrame[]): StackFrame[] {\n  if (!stack.length) {\n    return [];\n  }\n\n  let localStack = stack;\n\n  const firstFrameFunction = localStack[0].function || '';\n  const lastFrameFunction = localStack[localStack.length - 1].function || '';\n\n  // If stack starts with one of our API calls, remove it (starts, meaning it's the top of the stack - aka last call)\n  if (firstFrameFunction.indexOf('captureMessage') !== -1 || firstFrameFunction.indexOf('captureException') !== -1) {\n    localStack = localStack.slice(1);\n  }\n\n  // If stack ends with one of our internal API calls, remove it (ends, meaning it's the bottom of the stack - aka top-most call)\n  if (lastFrameFunction.indexOf('sentryWrapped') !== -1) {\n    localStack = localStack.slice(0, -1);\n  }\n\n  // The frame where the crash happened, should be the last entry in the array\n  return localStack\n    .slice(0, STACKTRACE_LIMIT)\n    .map(frame => ({\n      ...frame,\n      filename: frame.filename || localStack[0].filename,\n      function: frame.function || '?',\n    }))\n    .reverse();\n}\n\nconst defaultFunctionName = '<anonymous>';\n\n/**\n * Safely extract function name from itself\n */\nexport function getFunctionName(fn: unknown): string {\n  try {\n    if (!fn || typeof fn !== 'function') {\n      return defaultFunctionName;\n    }\n    return fn.name || defaultFunctionName;\n  } catch (e) {\n    // Just accessing custom props in some Selenium environments\n    // can cause a \"Permission denied\" exception (see raven-js#495).\n    return defaultFunctionName;\n  }\n}\n", "/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport type MemoFunc = [\n  // memoize\n  (obj: any) => boolean,\n  // unmemoize\n  (obj: any) => void,\n];\n\n/**\n * Helper to decycle json objects\n */\nexport function memoBuilder(): MemoFunc {\n  const hasWeakSet = typeof WeakSet === 'function';\n  const inner: any = hasWeakSet ? new WeakSet() : [];\n  function memoize(obj: any): boolean {\n    if (hasWeakSet) {\n      if (inner.has(obj)) {\n        return true;\n      }\n      inner.add(obj);\n      return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/prefer-for-of\n    for (let i = 0; i < inner.length; i++) {\n      const value = inner[i];\n      if (value === obj) {\n        return true;\n      }\n    }\n    inner.push(obj);\n    return false;\n  }\n\n  function unmemoize(obj: any): void {\n    if (hasWeakSet) {\n      inner.delete(obj);\n    } else {\n      for (let i = 0; i < inner.length; i++) {\n        if (inner[i] === obj) {\n          inner.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }\n  return [memoize, unmemoize];\n}\n", "import { Primitive } from '@sentry/types';\n\nimport { isError, isEvent, isNaN, isSyntheticEvent } from './is';\nimport { memoBuilder, MemoFunc } from './memo';\nimport { convertToPlainObject } from './object';\nimport { getFunctionName } from './stacktrace';\n\ntype Prototype = { constructor: (...args: unknown[]) => unknown };\n// This is a hack to placate TS, relying on the fact that technically, arrays are objects with integer keys. Normally we\n// think of those keys as actual numbers, but `arr['0']` turns out to work just as well as `arr[0]`, and doing it this\n// way lets us use a single type in the places where behave as if we are only dealing with objects, even if some of them\n// might be arrays.\ntype ObjOrArray<T> = { [key: string]: T };\n\n/**\n * Recursively normalizes the given object.\n *\n * - Creates a copy to prevent original input mutation\n * - Skips non-enumerable properties\n * - When stringifying, calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializable values (`undefined`/`NaN`/functions) to serializable format\n * - Translates known global objects/classes to a string representations\n * - Takes care of `Error` object serialization\n * - Optionally limits depth of final output\n * - Optionally limits number of properties/elements included in any single object/array\n *\n * @param input The object to be normalized.\n * @param depth The max depth to which to normalize the object. (Anything deeper stringified whole.)\n * @param maxProperties The max number of elements or properties to be included in any single array or\n * object in the normallized output..\n * @returns A normalized version of the object, or `\"**non-serializable**\"` if any errors are thrown during normalization.\n */\nexport function normalize(input: unknown, depth: number = +Infinity, maxProperties: number = +Infinity): any {\n  try {\n    // since we're at the outermost level, there is no key\n    return visit('', input, depth, maxProperties);\n  } catch (err) {\n    return { ERROR: `**non-serializable** (${err})` };\n  }\n}\n\n/** JSDoc */\nexport function normalizeToSize<T>(\n  object: { [key: string]: any },\n  // Default Node.js REPL depth\n  depth: number = 3,\n  // 100kB, as 200kB is max payload size, so half sounds reasonable\n  maxSize: number = 100 * 1024,\n): T {\n  const normalized = normalize(object, depth);\n\n  if (jsonSize(normalized) > maxSize) {\n    return normalizeToSize(object, depth - 1, maxSize);\n  }\n\n  return normalized as T;\n}\n\n/**\n * Visits a node to perform normalization on it\n *\n * @param key The key corresponding to the given node\n * @param value The node to be visited\n * @param depth Optional number indicating the maximum recursion depth\n * @param maxProperties Optional maximum number of properties/elements included in any single object/array\n * @param memo Optional Memo class handling decycling\n */\nfunction visit(\n  key: string,\n  value: unknown,\n  depth: number = +Infinity,\n  maxProperties: number = +Infinity,\n  memo: MemoFunc = memoBuilder(),\n): Primitive | ObjOrArray<unknown> {\n  const [memoize, unmemoize] = memo;\n\n  // If the value has a `toJSON` method, see if we can bail and let it do the work\n  const valueWithToJSON = value as unknown & { toJSON?: () => Primitive | ObjOrArray<unknown> };\n  if (valueWithToJSON && typeof valueWithToJSON.toJSON === 'function') {\n    try {\n      return valueWithToJSON.toJSON();\n    } catch (err) {\n      // pass (The built-in `toJSON` failed, but we can still try to do it ourselves)\n    }\n  }\n\n  // Get the simple cases out of the way first\n  if (value === null || (['number', 'boolean', 'string'].includes(typeof value) && !isNaN(value))) {\n    return value as Primitive;\n  }\n\n  const stringified = stringifyValue(key, value);\n\n  // Anything we could potentially dig into more (objects or arrays) will have come back as `\"[object XXXX]\"`.\n  // Everything else will have already been serialized, so if we don't see that pattern, we're done.\n  if (!stringified.startsWith('[object ')) {\n    return stringified;\n  }\n\n  // We're also done if we've reached the max depth\n  if (depth === 0) {\n    // At this point we know `serialized` is a string of the form `\"[object XXXX]\"`. Clean it up so it's just `\"[XXXX]\"`.\n    return stringified.replace('object ', '');\n  }\n\n  // If we've already visited this branch, bail out, as it's circular reference. If not, note that we're seeing it now.\n  if (memoize(value)) {\n    return '[Circular ~]';\n  }\n\n  // At this point we know we either have an object or an array, we haven't seen it before, and we're going to recurse\n  // because we haven't yet reached the max depth. Create an accumulator to hold the results of visiting each\n  // property/entry, and keep track of the number of items we add to it.\n  const normalized = (Array.isArray(value) ? [] : {}) as ObjOrArray<unknown>;\n  let numAdded = 0;\n\n  // Before we begin, convert`Error` and`Event` instances into plain objects, since some of each of their relevant\n  // properties are non-enumerable and otherwise would get missed.\n  const visitable = (isError(value) || isEvent(value) ? convertToPlainObject(value) : value) as ObjOrArray<unknown>;\n\n  for (const visitKey in visitable) {\n    // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n    if (!Object.prototype.hasOwnProperty.call(visitable, visitKey)) {\n      continue;\n    }\n\n    if (numAdded >= maxProperties) {\n      normalized[visitKey] = '[MaxProperties ~]';\n      break;\n    }\n\n    // Recursively visit all the child nodes\n    const visitValue = visitable[visitKey];\n    normalized[visitKey] = visit(visitKey, visitValue, depth - 1, maxProperties, memo);\n\n    numAdded += 1;\n  }\n\n  // Once we've visited all the branches, remove the parent from memo storage\n  unmemoize(value);\n\n  // Return accumulated values\n  return normalized;\n}\n\n// TODO remove this in v7 (this means the method will no longer be exported, under any name)\nexport { visit as walk };\n\n/**\n * Stringify the given value. Handles various known special values and types.\n *\n * Not meant to be used on simple primitives which already have a string representation, as it will, for example, turn\n * the number 1231 into \"[Object Number]\", nor on `null`, as it will throw.\n *\n * @param value The value to stringify\n * @returns A stringified representation of the given value\n */\nfunction stringifyValue(\n  key: unknown,\n  // this type is a tiny bit of a cheat, since this function does handle NaN (which is technically a number), but for\n  // our internal use, it'll do\n  value: Exclude<unknown, string | number | boolean | null>,\n): string {\n  try {\n    if (key === 'domain' && value && typeof value === 'object' && (value as { _events: unknown })._events) {\n      return '[Domain]';\n    }\n\n    if (key === 'domainEmitter') {\n      return '[DomainEmitter]';\n    }\n\n    // It's safe to use `global`, `window`, and `document` here in this manner, as we are asserting using `typeof` first\n    // which won't throw if they are not present.\n\n    if (typeof global !== 'undefined' && value === global) {\n      return '[Global]';\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof window !== 'undefined' && value === window) {\n      return '[Window]';\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    if (typeof document !== 'undefined' && value === document) {\n      return '[Document]';\n    }\n\n    // React's SyntheticEvent thingy\n    if (isSyntheticEvent(value)) {\n      return '[SyntheticEvent]';\n    }\n\n    if (typeof value === 'number' && value !== value) {\n      return '[NaN]';\n    }\n\n    // this catches `undefined` (but not `null`, which is a primitive and can be serialized on its own)\n    if (value === void 0) {\n      return '[undefined]';\n    }\n\n    if (typeof value === 'function') {\n      return `[Function: ${getFunctionName(value)}]`;\n    }\n\n    if (typeof value === 'symbol') {\n      return `[${String(value)}]`;\n    }\n\n    // stringified BigInts are indistinguishable from regular numbers, so we need to label them to avoid confusion\n    if (typeof value === 'bigint') {\n      return `[BigInt: ${String(value)}]`;\n    }\n\n    // Now that we've knocked out all the special cases and the primitives, all we have left are objects. Simply casting\n    // them to strings means that instances of classes which haven't defined their `toStringTag` will just come out as\n    // `\"[object Object]\"`. If we instead look at the constructor's name (which is the same as the name of the class),\n    // we can make sure that only plain objects come out that way.\n    return `[object ${(Object.getPrototypeOf(value) as Prototype).constructor.name}]`;\n  } catch (err) {\n    return `**non-serializable** (${err})`;\n  }\n}\n\n/** Calculates bytes size of input string */\nfunction utf8Length(value: string): number {\n  // eslint-disable-next-line no-bitwise\n  return ~-encodeURI(value).split(/%..|./).length;\n}\n\n/** Calculates bytes size of input object */\nfunction jsonSize(value: any): number {\n  return utf8Length(JSON.stringify(value));\n}\n", "/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/typedef */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isThenable } from './is';\n\n/** SyncPromise internal states */\nconst enum States {\n  /** Pending */\n  PENDING = 0,\n  /** Resolved / OK */\n  RESOLVED = 1,\n  /** Rejected / Error */\n  REJECTED = 2,\n}\n\n/**\n * Creates a resolved sync promise.\n *\n * @param value the value to resolve the promise with\n * @returns the resolved sync promise\n */\nexport function resolvedSyncPromise<T>(value: T | PromiseLike<T>): PromiseLike<T> {\n  return new SyncPromise(resolve => {\n    resolve(value);\n  });\n}\n\n/**\n * Creates a rejected sync promise.\n *\n * @param value the value to reject the promise with\n * @returns the rejected sync promise\n */\nexport function rejectedSyncPromise<T = never>(reason?: any): PromiseLike<T> {\n  return new SyncPromise((_, reject) => {\n    reject(reason);\n  });\n}\n\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nclass SyncPromise<T> implements PromiseLike<T> {\n  private _state: States = States.PENDING;\n  private _handlers: Array<[boolean, (value: T) => void, (reason: any) => any]> = [];\n  private _value: any;\n\n  public constructor(\n    executor: (resolve: (value?: T | PromiseLike<T> | null) => void, reject: (reason?: any) => void) => void,\n  ) {\n    try {\n      executor(this._resolve, this._reject);\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n\n  /** JSDoc */\n  public then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null,\n  ): PromiseLike<TResult1 | TResult2> {\n    return new SyncPromise((resolve, reject) => {\n      this._handlers.push([\n        false,\n        result => {\n          if (!onfulfilled) {\n            // TODO: \u00AF\\_(\u30C4)_/\u00AF\n            // TODO: FIXME\n            resolve(result as any);\n          } else {\n            try {\n              resolve(onfulfilled(result));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n        reason => {\n          if (!onrejected) {\n            reject(reason);\n          } else {\n            try {\n              resolve(onrejected(reason));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n      ]);\n      this._executeHandlers();\n    });\n  }\n\n  /** JSDoc */\n  public catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | null,\n  ): PromiseLike<T | TResult> {\n    return this.then(val => val, onrejected);\n  }\n\n  /** JSDoc */\n  public finally<TResult>(onfinally?: (() => void) | null): PromiseLike<TResult> {\n    return new SyncPromise<TResult>((resolve, reject) => {\n      let val: TResult | any;\n      let isRejected: boolean;\n\n      return this.then(\n        value => {\n          isRejected = false;\n          val = value;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n        reason => {\n          isRejected = true;\n          val = reason;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n      ).then(() => {\n        if (isRejected) {\n          reject(val);\n          return;\n        }\n\n        resolve(val as unknown as any);\n      });\n    });\n  }\n\n  /** JSDoc */\n  private readonly _resolve = (value?: T | PromiseLike<T> | null) => {\n    this._setResult(States.RESOLVED, value);\n  };\n\n  /** JSDoc */\n  private readonly _reject = (reason?: any) => {\n    this._setResult(States.REJECTED, reason);\n  };\n\n  /** JSDoc */\n  private readonly _setResult = (state: States, value?: T | PromiseLike<T> | any) => {\n    if (this._state !== States.PENDING) {\n      return;\n    }\n\n    if (isThenable(value)) {\n      void (value as PromiseLike<T>).then(this._resolve, this._reject);\n      return;\n    }\n\n    this._state = state;\n    this._value = value;\n\n    this._executeHandlers();\n  };\n\n  /** JSDoc */\n  private readonly _executeHandlers = () => {\n    if (this._state === States.PENDING) {\n      return;\n    }\n\n    const cachedHandlers = this._handlers.slice();\n    this._handlers = [];\n\n    cachedHandlers.forEach(handler => {\n      if (handler[0]) {\n        return;\n      }\n\n      if (this._state === States.RESOLVED) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        handler[1](this._value as unknown as any);\n      }\n\n      if (this._state === States.REJECTED) {\n        handler[2](this._value);\n      }\n\n      handler[0] = true;\n    });\n  };\n}\n\nexport { SyncPromise };\n", "import { getGlobalObject } from './global';\nimport { dynamicRequire, isNodeEnv } from './node';\n\n/**\n * An object that can return the current timestamp in seconds since the UNIX epoch.\n */\ninterface TimestampSource {\n  nowSeconds(): number;\n}\n\n/**\n * A TimestampSource implementation for environments that do not support the Performance Web API natively.\n *\n * Note that this TimestampSource does not use a monotonic clock. A call to `nowSeconds` may return a timestamp earlier\n * than a previously returned value. We do not try to emulate a monotonic behavior in order to facilitate debugging. It\n * is more obvious to explain \"why does my span have negative duration\" than \"why my spans have zero duration\".\n */\nconst dateTimestampSource: TimestampSource = {\n  nowSeconds: () => Date.now() / 1000,\n};\n\n/**\n * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n * for accessing a high-resolution monotonic clock.\n */\ninterface Performance {\n  /**\n   * The millisecond timestamp at which measurement began, measured in Unix time.\n   */\n  timeOrigin: number;\n  /**\n   * Returns the current millisecond timestamp, where 0 represents the start of measurement.\n   */\n  now(): number;\n}\n\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction getBrowserPerformance(): Performance | undefined {\n  const { performance } = getGlobalObject<Window>();\n  if (!performance || !performance.now) {\n    return undefined;\n  }\n\n  // Replace performance.timeOrigin with our own timeOrigin based on Date.now().\n  //\n  // This is a partial workaround for browsers reporting performance.timeOrigin such that performance.timeOrigin +\n  // performance.now() gives a date arbitrarily in the past.\n  //\n  // Additionally, computing timeOrigin in this way fills the gap for browsers where performance.timeOrigin is\n  // undefined.\n  //\n  // The assumption that performance.timeOrigin + performance.now() ~= Date.now() is flawed, but we depend on it to\n  // interact with data coming out of performance entries.\n  //\n  // Note that despite recommendations against it in the spec, browsers implement the Performance API with a clock that\n  // might stop when the computer is asleep (and perhaps under other circumstances). Such behavior causes\n  // performance.timeOrigin + performance.now() to have an arbitrary skew over Date.now(). In laptop computers, we have\n  // observed skews that can be as long as days, weeks or months.\n  //\n  // See https://github.com/getsentry/sentry-javascript/issues/2590.\n  //\n  // BUG: despite our best intentions, this workaround has its limitations. It mostly addresses timings of pageload\n  // transactions, but ignores the skew built up over time that can aversely affect timestamps of navigation\n  // transactions of long-lived web pages.\n  const timeOrigin = Date.now() - performance.now();\n\n  return {\n    now: () => performance.now(),\n    timeOrigin,\n  };\n}\n\n/**\n * Returns the native Performance API implementation from Node.js. Returns undefined in old Node.js versions that don't\n * implement the API.\n */\nfunction getNodePerformance(): Performance | undefined {\n  try {\n    const perfHooks = dynamicRequire(module, 'perf_hooks') as { performance: Performance };\n    return perfHooks.performance;\n  } catch (_) {\n    return undefined;\n  }\n}\n\n/**\n * The Performance API implementation for the current platform, if available.\n */\nconst platformPerformance: Performance | undefined = isNodeEnv() ? getNodePerformance() : getBrowserPerformance();\n\nconst timestampSource: TimestampSource =\n  platformPerformance === undefined\n    ? dateTimestampSource\n    : {\n        nowSeconds: () => (platformPerformance.timeOrigin + platformPerformance.now()) / 1000,\n      };\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n */\nexport const dateTimestampInSeconds: () => number = dateTimestampSource.nowSeconds.bind(dateTimestampSource);\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * See `usingPerformanceAPI` to test whether the Performance API is used.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nexport const timestampInSeconds: () => number = timestampSource.nowSeconds.bind(timestampSource);\n\n// Re-exported with an old name for backwards-compatibility.\nexport const timestampWithMs = timestampInSeconds;\n\n/**\n * A boolean that is true when timestampInSeconds uses the Performance API to produce monotonic timestamps.\n */\nexport const usingPerformanceAPI = platformPerformance !== undefined;\n\n/**\n * Internal helper to store what is the source of browserPerformanceTimeOrigin below. For debugging only.\n */\nexport let _browserPerformanceTimeOriginMode: string;\n\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nexport const browserPerformanceTimeOrigin = ((): number | undefined => {\n  // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n  // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n  // data as reliable if they are within a reasonable threshold of the current time.\n\n  const { performance } = getGlobalObject<Window>();\n  if (!performance || !performance.now) {\n    _browserPerformanceTimeOriginMode = 'none';\n    return undefined;\n  }\n\n  const threshold = 3600 * 1000;\n  const performanceNow = performance.now();\n  const dateNow = Date.now();\n\n  // if timeOrigin isn't available set delta to threshold so it isn't used\n  const timeOriginDelta = performance.timeOrigin\n    ? Math.abs(performance.timeOrigin + performanceNow - dateNow)\n    : threshold;\n  const timeOriginIsReliable = timeOriginDelta < threshold;\n\n  // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n  // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n  // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n  // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n  // Date API.\n  // eslint-disable-next-line deprecation/deprecation\n  const navigationStart = performance.timing && performance.timing.navigationStart;\n  const hasNavigationStart = typeof navigationStart === 'number';\n  // if navigationStart isn't available set delta to threshold so it isn't used\n  const navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n  const navigationStartIsReliable = navigationStartDelta < threshold;\n\n  if (timeOriginIsReliable || navigationStartIsReliable) {\n    // Use the more reliable time origin\n    if (timeOriginDelta <= navigationStartDelta) {\n      _browserPerformanceTimeOriginMode = 'timeOrigin';\n      return performance.timeOrigin;\n    } else {\n      _browserPerformanceTimeOriginMode = 'navigationStart';\n      return navigationStart;\n    }\n  }\n\n  // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n  _browserPerformanceTimeOriginMode = 'dateNow';\n  return dateNow;\n})();\n", "/* eslint-disable max-lines */\nimport {\n  Breadcrumb,\n  CaptureContext,\n  Context,\n  Contexts,\n  Event,\n  EventHint,\n  EventProcessor,\n  Extra,\n  Extras,\n  Primitive,\n  RequestSession,\n  Scope as ScopeInterface,\n  ScopeContext,\n  Severity,\n  Span,\n  Transaction,\n  User,\n} from '@sentry/types';\nimport { dateTimestampInSeconds, getGlobalSingleton, isPlainObject, isThenable, SyncPromise } from '@sentry/utils';\n\nimport { Session } from './session';\n\n/**\n * Absolute maximum number of breadcrumbs added to an event.\n * The `maxBreadcrumbs` option cannot be higher than this value.\n */\nconst MAX_BREADCRUMBS = 100;\n\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nexport class Scope implements ScopeInterface {\n  /** Flag if notifying is happening. */\n  protected _notifyingListeners: boolean = false;\n\n  /** Callback for client to receive scope changes. */\n  protected _scopeListeners: Array<(scope: Scope) => void> = [];\n\n  /** Callback list that will be called after {@link applyToEvent}. */\n  protected _eventProcessors: EventProcessor[] = [];\n\n  /** Array of breadcrumbs. */\n  protected _breadcrumbs: Breadcrumb[] = [];\n\n  /** User */\n  protected _user: User = {};\n\n  /** Tags */\n  protected _tags: { [key: string]: Primitive } = {};\n\n  /** Extra */\n  protected _extra: Extras = {};\n\n  /** Contexts */\n  protected _contexts: Contexts = {};\n\n  /** Fingerprint */\n  protected _fingerprint?: string[];\n\n  /** Severity */\n  protected _level?: Severity;\n\n  /** Transaction Name */\n  protected _transactionName?: string;\n\n  /** Span */\n  protected _span?: Span;\n\n  /** Session */\n  protected _session?: Session;\n\n  /** Request Mode Session Status */\n  protected _requestSession?: RequestSession;\n\n  /**\n   * A place to stash data which is needed at some point in the SDK's event processing pipeline but which shouldn't get\n   * sent to Sentry\n   */\n  protected _sdkProcessingMetadata?: { [key: string]: unknown } = {};\n\n  /**\n   * Inherit values from the parent scope.\n   * @param scope to clone.\n   */\n  public static clone(scope?: Scope): Scope {\n    const newScope = new Scope();\n    if (scope) {\n      newScope._breadcrumbs = [...scope._breadcrumbs];\n      newScope._tags = { ...scope._tags };\n      newScope._extra = { ...scope._extra };\n      newScope._contexts = { ...scope._contexts };\n      newScope._user = scope._user;\n      newScope._level = scope._level;\n      newScope._span = scope._span;\n      newScope._session = scope._session;\n      newScope._transactionName = scope._transactionName;\n      newScope._fingerprint = scope._fingerprint;\n      newScope._eventProcessors = [...scope._eventProcessors];\n      newScope._requestSession = scope._requestSession;\n    }\n    return newScope;\n  }\n\n  /**\n   * Add internal on change listener. Used for sub SDKs that need to store the scope.\n   * @hidden\n   */\n  public addScopeListener(callback: (scope: Scope) => void): void {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addEventProcessor(callback: EventProcessor): this {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setUser(user: User | null): this {\n    this._user = user || {};\n    if (this._session) {\n      this._session.update({ user });\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getUser(): User | undefined {\n    return this._user;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getRequestSession(): RequestSession | undefined {\n    return this._requestSession;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setRequestSession(requestSession?: RequestSession): this {\n    this._requestSession = requestSession;\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTags(tags: { [key: string]: Primitive }): this {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTag(key: string, value: Primitive): this {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtras(extras: Extras): this {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setExtra(key: string, extra: Extra): this {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setFingerprint(fingerprint: string[]): this {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setLevel(level: Severity): this {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setTransactionName(name?: string): this {\n    this._transactionName = name;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Can be removed in major version.\n   * @deprecated in favor of {@link this.setTransactionName}\n   */\n  public setTransaction(name?: string): this {\n    return this.setTransactionName(name);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setContext(key: string, context: Context | null): this {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts = { ...this._contexts, [key]: context };\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setSpan(span?: Span): this {\n    this._span = span;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getSpan(): Span | undefined {\n    return this._span;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getTransaction(): Transaction | undefined {\n    // Often, this span (if it exists at all) will be a transaction, but it's not guaranteed to be. Regardless, it will\n    // have a pointer to the currently-active transaction.\n    const span = this.getSpan();\n    return span && span.transaction;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public setSession(session?: Session): this {\n    if (!session) {\n      delete this._session;\n    } else {\n      this._session = session;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public getSession(): Session | undefined {\n    return this._session;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public update(captureContext?: CaptureContext): this {\n    if (!captureContext) {\n      return this;\n    }\n\n    if (typeof captureContext === 'function') {\n      const updatedScope = (captureContext as <T>(scope: T) => T)(this);\n      return updatedScope instanceof Scope ? updatedScope : this;\n    }\n\n    if (captureContext instanceof Scope) {\n      this._tags = { ...this._tags, ...captureContext._tags };\n      this._extra = { ...this._extra, ...captureContext._extra };\n      this._contexts = { ...this._contexts, ...captureContext._contexts };\n      if (captureContext._user && Object.keys(captureContext._user).length) {\n        this._user = captureContext._user;\n      }\n      if (captureContext._level) {\n        this._level = captureContext._level;\n      }\n      if (captureContext._fingerprint) {\n        this._fingerprint = captureContext._fingerprint;\n      }\n      if (captureContext._requestSession) {\n        this._requestSession = captureContext._requestSession;\n      }\n    } else if (isPlainObject(captureContext)) {\n      // eslint-disable-next-line no-param-reassign\n      captureContext = captureContext as ScopeContext;\n      this._tags = { ...this._tags, ...captureContext.tags };\n      this._extra = { ...this._extra, ...captureContext.extra };\n      this._contexts = { ...this._contexts, ...captureContext.contexts };\n      if (captureContext.user) {\n        this._user = captureContext.user;\n      }\n      if (captureContext.level) {\n        this._level = captureContext.level;\n      }\n      if (captureContext.fingerprint) {\n        this._fingerprint = captureContext.fingerprint;\n      }\n      if (captureContext.requestSession) {\n        this._requestSession = captureContext.requestSession;\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clear(): this {\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._contexts = {};\n    this._level = undefined;\n    this._transactionName = undefined;\n    this._fingerprint = undefined;\n    this._requestSession = undefined;\n    this._span = undefined;\n    this._session = undefined;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public addBreadcrumb(breadcrumb: Breadcrumb, maxBreadcrumbs?: number): this {\n    const maxCrumbs = typeof maxBreadcrumbs === 'number' ? Math.min(maxBreadcrumbs, MAX_BREADCRUMBS) : MAX_BREADCRUMBS;\n\n    // No data has been changed, so don't notify scope listeners\n    if (maxCrumbs <= 0) {\n      return this;\n    }\n\n    const mergedBreadcrumb = {\n      timestamp: dateTimestampInSeconds(),\n      ...breadcrumb,\n    };\n    this._breadcrumbs = [...this._breadcrumbs, mergedBreadcrumb].slice(-maxCrumbs);\n    this._notifyScopeListeners();\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public clearBreadcrumbs(): this {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * Applies the current context and fingerprint to the event.\n   * Note that breadcrumbs will be added by the client.\n   * Also if the event has already breadcrumbs on it, we do not merge them.\n   * @param event Event\n   * @param hint May contain additional information about the original exception.\n   * @hidden\n   */\n  public applyToEvent(event: Event, hint?: EventHint): PromiseLike<Event | null> {\n    if (this._extra && Object.keys(this._extra).length) {\n      event.extra = { ...this._extra, ...event.extra };\n    }\n    if (this._tags && Object.keys(this._tags).length) {\n      event.tags = { ...this._tags, ...event.tags };\n    }\n    if (this._user && Object.keys(this._user).length) {\n      event.user = { ...this._user, ...event.user };\n    }\n    if (this._contexts && Object.keys(this._contexts).length) {\n      event.contexts = { ...this._contexts, ...event.contexts };\n    }\n    if (this._level) {\n      event.level = this._level;\n    }\n    if (this._transactionName) {\n      event.transaction = this._transactionName;\n    }\n    // We want to set the trace context for normal events only if there isn't already\n    // a trace context on the event. There is a product feature in place where we link\n    // errors with transaction and it relies on that.\n    if (this._span) {\n      event.contexts = { trace: this._span.getTraceContext(), ...event.contexts };\n      const transactionName = this._span.transaction && this._span.transaction.name;\n      if (transactionName) {\n        event.tags = { transaction: transactionName, ...event.tags };\n      }\n    }\n\n    this._applyFingerprint(event);\n\n    event.breadcrumbs = [...(event.breadcrumbs || []), ...this._breadcrumbs];\n    event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n\n    event.sdkProcessingMetadata = this._sdkProcessingMetadata;\n\n    return this._notifyEventProcessors([...getGlobalEventProcessors(), ...this._eventProcessors], event, hint);\n  }\n\n  /**\n   * Add data which will be accessible during event processing but won't get sent to Sentry\n   */\n  public setSDKProcessingMetadata(newData: { [key: string]: unknown }): this {\n    this._sdkProcessingMetadata = { ...this._sdkProcessingMetadata, ...newData };\n\n    return this;\n  }\n\n  /**\n   * This will be called after {@link applyToEvent} is finished.\n   */\n  protected _notifyEventProcessors(\n    processors: EventProcessor[],\n    event: Event | null,\n    hint?: EventHint,\n    index: number = 0,\n  ): PromiseLike<Event | null> {\n    return new SyncPromise<Event | null>((resolve, reject) => {\n      const processor = processors[index];\n      if (event === null || typeof processor !== 'function') {\n        resolve(event);\n      } else {\n        const result = processor({ ...event }, hint) as Event | null;\n        if (isThenable(result)) {\n          void result\n            .then(final => this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve))\n            .then(null, reject);\n        } else {\n          void this._notifyEventProcessors(processors, result, hint, index + 1)\n            .then(resolve)\n            .then(null, reject);\n        }\n      }\n    });\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n  protected _notifyScopeListeners(): void {\n    // We need this check for this._notifyingListeners to be able to work on scope during updates\n    // If this check is not here we'll produce endless recursion when something is done with the scope\n    // during the callback.\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      this._scopeListeners.forEach(callback => {\n        callback(this);\n      });\n      this._notifyingListeners = false;\n    }\n  }\n\n  /**\n   * Applies fingerprint from the scope to the event if there's one,\n   * uses message if there's one instead or get rid of empty fingerprint\n   */\n  private _applyFingerprint(event: Event): void {\n    // Make sure it's an array first and we actually have something in place\n    event.fingerprint = event.fingerprint\n      ? Array.isArray(event.fingerprint)\n        ? event.fingerprint\n        : [event.fingerprint]\n      : [];\n\n    // If we have something on the scope, then merge it with event\n    if (this._fingerprint) {\n      event.fingerprint = event.fingerprint.concat(this._fingerprint);\n    }\n\n    // If we have no data at all, remove empty array default\n    if (event.fingerprint && !event.fingerprint.length) {\n      delete event.fingerprint;\n    }\n  }\n}\n\n/**\n * Returns the global event processors.\n */\nfunction getGlobalEventProcessors(): EventProcessor[] {\n  return getGlobalSingleton<EventProcessor[]>('globalEventProcessors', () => []);\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nexport function addGlobalEventProcessor(callback: EventProcessor): void {\n  getGlobalEventProcessors().push(callback);\n}\n", "import { DsnComponents, DsnLike, SdkMetadata } from '@sentry/types';\nimport { dsnToString, makeDsn, urlEncode } from '@sentry/utils';\n\nconst SENTRY_API_VERSION = '7';\n\n/**\n * Stores details about a Sentry SDK\n */\nexport interface APIDetails {\n  /** The DSN as passed to Sentry.init() */\n  initDsn: DsnLike;\n  /** Metadata about the SDK (name, version, etc) for inclusion in envelope headers */\n  metadata: SdkMetadata;\n  /** The internally used Dsn object. */\n  readonly dsn: DsnComponents;\n  /** The envelope tunnel to use. */\n  readonly tunnel?: string;\n}\n\n/**\n * Helper class to provide urls, headers and metadata that can be used to form\n * different types of requests to Sentry endpoints.\n * Supports both envelopes and regular event requests.\n *\n * @deprecated Please use APIDetails\n **/\nexport class API {\n  /** The DSN as passed to Sentry.init() */\n  public dsn: DsnLike;\n\n  /** Metadata about the SDK (name, version, etc) for inclusion in envelope headers */\n  public metadata: SdkMetadata;\n\n  /** The internally used Dsn object. */\n  private readonly _dsnObject: DsnComponents;\n\n  /** The envelope tunnel to use. */\n  private readonly _tunnel?: string;\n\n  /** Create a new instance of API */\n  public constructor(dsn: DsnLike, metadata: SdkMetadata = {}, tunnel?: string) {\n    this.dsn = dsn;\n    this._dsnObject = makeDsn(dsn);\n    this.metadata = metadata;\n    this._tunnel = tunnel;\n  }\n\n  /** Returns the Dsn object. */\n  public getDsn(): DsnComponents {\n    return this._dsnObject;\n  }\n\n  /** Does this transport force envelopes? */\n  public forceEnvelope(): boolean {\n    return !!this._tunnel;\n  }\n\n  /** Returns the prefix to construct Sentry ingestion API endpoints. */\n  public getBaseApiEndpoint(): string {\n    return getBaseApiEndpoint(this._dsnObject);\n  }\n\n  /** Returns the store endpoint URL. */\n  public getStoreEndpoint(): string {\n    return getStoreEndpoint(this._dsnObject);\n  }\n\n  /**\n   * Returns the store endpoint URL with auth in the query string.\n   *\n   * Sending auth as part of the query string and not as custom HTTP headers avoids CORS preflight requests.\n   */\n  public getStoreEndpointWithUrlEncodedAuth(): string {\n    return getStoreEndpointWithUrlEncodedAuth(this._dsnObject);\n  }\n\n  /**\n   * Returns the envelope endpoint URL with auth in the query string.\n   *\n   * Sending auth as part of the query string and not as custom HTTP headers avoids CORS preflight requests.\n   */\n  public getEnvelopeEndpointWithUrlEncodedAuth(): string {\n    return getEnvelopeEndpointWithUrlEncodedAuth(this._dsnObject, this._tunnel);\n  }\n}\n\n/** Initializes API Details */\nexport function initAPIDetails(dsn: DsnLike, metadata?: SdkMetadata, tunnel?: string): APIDetails {\n  return {\n    initDsn: dsn,\n    metadata: metadata || {},\n    dsn: makeDsn(dsn),\n    tunnel,\n  } as APIDetails;\n}\n\n/** Returns the prefix to construct Sentry ingestion API endpoints. */\nfunction getBaseApiEndpoint(dsn: DsnComponents): string {\n  const protocol = dsn.protocol ? `${dsn.protocol}:` : '';\n  const port = dsn.port ? `:${dsn.port}` : '';\n  return `${protocol}//${dsn.host}${port}${dsn.path ? `/${dsn.path}` : ''}/api/`;\n}\n\n/** Returns the ingest API endpoint for target. */\nfunction _getIngestEndpoint(dsn: DsnComponents, target: 'store' | 'envelope'): string {\n  return `${getBaseApiEndpoint(dsn)}${dsn.projectId}/${target}/`;\n}\n\n/** Returns a URL-encoded string with auth config suitable for a query string. */\nfunction _encodedAuth(dsn: DsnComponents): string {\n  return urlEncode({\n    // We send only the minimum set of required information. See\n    // https://github.com/getsentry/sentry-javascript/issues/2572.\n    sentry_key: dsn.publicKey,\n    sentry_version: SENTRY_API_VERSION,\n  });\n}\n\n/** Returns the store endpoint URL. */\nfunction getStoreEndpoint(dsn: DsnComponents): string {\n  return _getIngestEndpoint(dsn, 'store');\n}\n\n/**\n * Returns the store endpoint URL with auth in the query string.\n *\n * Sending auth as part of the query string and not as custom HTTP headers avoids CORS preflight requests.\n */\nexport function getStoreEndpointWithUrlEncodedAuth(dsn: DsnComponents): string {\n  return `${getStoreEndpoint(dsn)}?${_encodedAuth(dsn)}`;\n}\n\n/** Returns the envelope endpoint URL. */\nfunction _getEnvelopeEndpoint(dsn: DsnComponents): string {\n  return _getIngestEndpoint(dsn, 'envelope');\n}\n\n/**\n * Returns the envelope endpoint URL with auth in the query string.\n *\n * Sending auth as part of the query string and not as custom HTTP headers avoids CORS preflight requests.\n */\nexport function getEnvelopeEndpointWithUrlEncodedAuth(dsn: DsnComponents, tunnel?: string): string {\n  return tunnel ? tunnel : `${_getEnvelopeEndpoint(dsn)}?${_encodedAuth(dsn)}`;\n}\n\n/**\n * Returns an object that can be used in request headers.\n * This is needed for node and the old /store endpoint in sentry\n */\nexport function getRequestHeaders(\n  dsn: DsnComponents,\n  clientName: string,\n  clientVersion: string,\n): { [key: string]: string } {\n  // CHANGE THIS to use metadata but keep clientName and clientVersion compatible\n  const header = [`Sentry sentry_version=${SENTRY_API_VERSION}`];\n  header.push(`sentry_client=${clientName}/${clientVersion}`);\n  header.push(`sentry_key=${dsn.publicKey}`);\n  if (dsn.pass) {\n    header.push(`sentry_secret=${dsn.pass}`);\n  }\n  return {\n    'Content-Type': 'application/json',\n    'X-Sentry-Auth': header.join(', '),\n  };\n}\n\n/** Returns the url to the report dialog endpoint. */\nexport function getReportDialogEndpoint(\n  dsnLike: DsnLike,\n  dialogOptions: {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: any;\n    user?: { name?: string; email?: string };\n  },\n): string {\n  const dsn = makeDsn(dsnLike);\n  const endpoint = `${getBaseApiEndpoint(dsn)}embed/error-page/`;\n\n  let encodedOptions = `dsn=${dsnToString(dsn)}`;\n  for (const key in dialogOptions) {\n    if (key === 'dsn') {\n      continue;\n    }\n\n    if (key === 'user') {\n      if (!dialogOptions.user) {\n        continue;\n      }\n      if (dialogOptions.user.name) {\n        encodedOptions += `&name=${encodeURIComponent(dialogOptions.user.name)}`;\n      }\n      if (dialogOptions.user.email) {\n        encodedOptions += `&email=${encodeURIComponent(dialogOptions.user.email)}`;\n      }\n    } else {\n      encodedOptions += `&${encodeURIComponent(key)}=${encodeURIComponent(dialogOptions[key] as string)}`;\n    }\n  }\n\n  return `${endpoint}?${encodedOptions}`;\n}\n", "import { API } from '@sentry/core';\nimport { isError, isPlainObject, extractExceptionKeysForMessage, normalizeToSize } from '@sentry/utils';\nimport { parse } from 'cookie';\nimport { fromError } from 'stacktrace-js';\nimport { Scope as Scope$1 } from '@sentry/hub';\n\n/**\r\n * Parts of code taken from: https://github.com/getsentry/sentry-javascript/blob/06d6bd87971b22dcaba99b03e1f885158c7dd66f/packages/hub/src/scope.ts\r\n */\r\nclass SentryScopeAdapter extends Scope$1 {\r\n    /**\r\n     * Applies the current context to the event.\r\n     *\r\n     * @param event Event\r\n     */\r\n    applyToEventSync(event) {\r\n        var _a, _b, _c, _d;\r\n        if (this._extra && Object.keys(this._extra).length) {\r\n            event.extra = { ...this._extra, ...event.extra };\r\n        }\r\n        if (this._tags && Object.keys(this._tags).length) {\r\n            event.tags = { ...this._tags, ...event.tags };\r\n        }\r\n        if (this._user && Object.keys(this._user).length) {\r\n            event.user = { ...this._user, ...event.user };\r\n        }\r\n        event.fingerprint = [\r\n            ...((_a = event.fingerprint) !== null && _a !== void 0 ? _a : []),\r\n            ...((_b = this._fingerprint) !== null && _b !== void 0 ? _b : []),\r\n        ];\r\n        event.fingerprint =\r\n            event.fingerprint.length > 0 ? event.fingerprint : undefined;\r\n        event.breadcrumbs = [\r\n            ...((_c = event.breadcrumbs) !== null && _c !== void 0 ? _c : []),\r\n            ...((_d = this._breadcrumbs) !== null && _d !== void 0 ? _d : []),\r\n        ];\r\n        event.breadcrumbs =\r\n            event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\r\n        return event;\r\n    }\r\n    /**\r\n     * Inherit values from the parent scope.\r\n     * @param scope to clone.\r\n     */\r\n    static clone(scope) {\r\n        const newScope = new SentryScopeAdapter();\r\n        if (scope) {\r\n            newScope._breadcrumbs = [...scope._breadcrumbs];\r\n            newScope._tags = { ...scope._tags };\r\n            newScope._extra = { ...scope._extra };\r\n            newScope._contexts = { ...scope._contexts };\r\n            newScope._user = scope._user;\r\n            newScope._level = scope._level;\r\n            newScope._span = scope._span;\r\n            newScope._session = scope._session;\r\n            newScope._transactionName = scope._transactionName;\r\n            newScope._fingerprint = scope._fingerprint;\r\n            newScope._eventProcessors = [...scope._eventProcessors];\r\n        }\r\n        return newScope;\r\n    }\r\n}\r\nclass Scope {\r\n    constructor() {\r\n        this.adapter = new SentryScopeAdapter();\r\n    }\r\n    /**\r\n     * Sets the breadcrumbs in the scope\r\n     *\r\n     * @param breadcrumb\r\n     * @param maxBreadcrumbs\r\n     */\r\n    addBreadcrumb(breadcrumb, maxBreadcrumbs) {\r\n        // Type-casting 'breadcrumb' to any because our level type is a union of literals, as opposed to Level enum.\r\n        return this.adapter.addBreadcrumb(breadcrumb, maxBreadcrumbs);\r\n    }\r\n    /**\r\n     * Set key:value that will be sent as tags data with the event.\r\n     *\r\n     * @param key String key of tag\r\n     * @param value Primitive value of tag\r\n     */\r\n    setTag(key, value) {\r\n        this.adapter.setTag(key, value);\r\n    }\r\n    /**\r\n     * Set an object that will be merged sent as tags data with the event.\r\n     *\r\n     * @param tags Tags context object to merge into current context.\r\n     */\r\n    setTags(tags) {\r\n        this.adapter.setTags(tags);\r\n    }\r\n    /**\r\n     * Set key:value that will be sent as extra data with the event.\r\n     *\r\n     * @param key String key of extra\r\n     * @param extra Extra value of extra\r\n     */\r\n    setExtra(key, extra) {\r\n        this.adapter.setExtra(key, extra);\r\n    }\r\n    /**\r\n     * Set an object that will be merged sent as extra data with the event.\r\n     *\r\n     * @param extras Extras context object to merge into current context.\r\n     */\r\n    setExtras(extras) {\r\n        this.adapter.setExtras(extras);\r\n    }\r\n    /**\r\n     * Overrides the Sentry default grouping. See https://docs.sentry.io/data-management/event-grouping/sdk-fingerprinting/\r\n     *\r\n     * @param fingerprint Array of strings used to override the Sentry default grouping.\r\n     */\r\n    setFingerprint(fingerprint) {\r\n        this.adapter.setFingerprint(fingerprint);\r\n    }\r\n    /**\r\n     * Updates user context information for future events.\r\n     *\r\n     * @param user \u2014 User context object to be set in the current context. Pass null to unset the user.\r\n     */\r\n    setUser(user) {\r\n        this.adapter.setUser(user);\r\n    }\r\n    /**\r\n     * Applies the current context to the event.\r\n     *\r\n     * @param event Event\r\n     */\r\n    applyToEvent(event) {\r\n        return this.adapter.applyToEventSync(event);\r\n    }\r\n    /**\r\n     * Inherit values from the parent scope.\r\n     * @param scope to clone.\r\n     */\r\n    static clone(scope) {\r\n        const newScope = new Scope();\r\n        if (scope) {\r\n            newScope.adapter = SentryScopeAdapter.clone(scope.adapter);\r\n        }\r\n        return newScope;\r\n    }\r\n}\n\n/**\r\n * Checks the given sample rate to make sure it is valid type and value (a boolean, or a number between 0 and 1).\r\n */\r\nfunction isValidSampleRate(rate) {\r\n    // we need to check NaN explicitly because it's of type 'number' and therefore wouldn't get caught by this typecheck\r\n    if (!((typeof rate === 'number' && !isNaN(rate)) || typeof rate === 'boolean')) {\r\n        return false;\r\n    }\r\n    // in case sampleRate is a boolean, it will get automatically cast to 1 if it's true and 0 if it's false\r\n    if (rate < 0 || rate > 1) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Determines if tracing is currently enabled.\r\n *\r\n * Tracing is enabled when at least one of `tracesSampleRate` and `tracesSampler` is defined in the SDK config.\r\n */\r\nfunction hasTracingEnabled(options) {\r\n    return ('sampleRate' in options ||\r\n        'tracesSampleRate' in options ||\r\n        'tracesSampler' in options);\r\n}\n\nclass Toucan {\r\n    constructor(options) {\r\n        /**\r\n         * Default maximum number of breadcrumbs added to an event. Can be overwritten\r\n         * with {@link Options.maxBreadcrumbs}.\r\n         */\r\n        this.DEFAULT_BREADCRUMBS = 100;\r\n        /**\r\n         * Absolute maximum number of breadcrumbs added to an event. The\r\n         * `maxBreadcrumbs` option cannot be higher than this value.\r\n         */\r\n        this.MAX_BREADCRUMBS = 100;\r\n        this.scopes = [new Scope()];\r\n        this.options = options;\r\n        if (!options.dsn || options.dsn.length === 0) {\r\n            // If an empty DSN is passed, we should treat it as valid option which signifies disabling the SDK.\r\n            this.url = '';\r\n            this.disabled = true;\r\n            this.debug(() => this.log('dsn missing, SDK is disabled'));\r\n        }\r\n        else {\r\n            this.url = new API(options.dsn).getStoreEndpointWithUrlEncodedAuth();\r\n            this.disabled = false;\r\n            this.debug(() => this.log(`dsn parsed, full store endpoint: ${this.url}`));\r\n        }\r\n        // This is to maintain backwards compatibility for 'event' option. When we remove it, all this complex logic can go away.\r\n        if ('context' in options && options.context.request) {\r\n            this.request = this.toSentryRequest(options.context.request);\r\n        }\r\n        else if ('request' in options && options.request) {\r\n            this.request = this.toSentryRequest(options.request);\r\n        }\r\n        else if ('event' in options && 'request' in options.event) {\r\n            this.request = this.toSentryRequest(options.event.request);\r\n        }\r\n        this.beforeSend = this.beforeSend.bind(this);\r\n        /**\r\n         * Wrap all class methods in a proxy that:\r\n         * 1. Wraps all code in try/catch to handle internal erros gracefully.\r\n         * 2. Prevents execution if disabled = true\r\n         */\r\n        return new Proxy(this, {\r\n            get: (target, key, receiver) => {\r\n                return (...args) => {\r\n                    if (this.disabled)\r\n                        return;\r\n                    try {\r\n                        return Reflect.get(target, key, receiver).apply(target, args);\r\n                    }\r\n                    catch (err) {\r\n                        this.debug(() => this.error(err));\r\n                    }\r\n                };\r\n            },\r\n        });\r\n    }\r\n    /**\r\n     * Set key:value that will be sent as extra data with the event.\r\n     *\r\n     * @param key String key of extra\r\n     * @param extra Extra value of extra\r\n     */\r\n    setExtra(key, extra) {\r\n        this.getScope().setExtra(key, extra);\r\n    }\r\n    /**\r\n     * Set an object that will be merged sent as extra data with the event.\r\n     *\r\n     * @param extras Extras context object to merge into current context.\r\n     */\r\n    setExtras(extras) {\r\n        this.getScope().setExtras(extras);\r\n    }\r\n    /**\r\n     * Set key:value that will be sent as tags data with the event.\r\n     *\r\n     * @param key String key of tag\r\n     * @param value Primitive value of tag\r\n     */\r\n    setTag(key, value) {\r\n        this.getScope().setTag(key, value);\r\n    }\r\n    /**\r\n     * Set an object that will be merged sent as tags data with the event.\r\n     *\r\n     * @param tags Tags context object to merge into current context.\r\n     */\r\n    setTags(tags) {\r\n        this.getScope().setTags(tags);\r\n    }\r\n    /**\r\n     * Overrides the Sentry default grouping. See https://docs.sentry.io/data-management/event-grouping/sdk-fingerprinting/\r\n     *\r\n     * @param fingerprint Array of strings used to override the Sentry default grouping.\r\n     */\r\n    setFingerprint(fingerprint) {\r\n        this.getScope().setFingerprint(fingerprint);\r\n    }\r\n    /**\r\n     * Records a new breadcrumb which will be attached to future events.\r\n     *\r\n     * Breadcrumbs will be added to subsequent events to provide more context on user's actions prior to an error or crash.\r\n     * @param breadcrumb The breadcrum to record.\r\n     */\r\n    addBreadcrumb(breadcrumb) {\r\n        var _a;\r\n        const maxBreadcrumbs = (_a = this.options.maxBreadcrumbs) !== null && _a !== void 0 ? _a : this.DEFAULT_BREADCRUMBS;\r\n        const numberOfBreadcrumbs = Math.min(maxBreadcrumbs, this.MAX_BREADCRUMBS);\r\n        if (numberOfBreadcrumbs <= 0)\r\n            return;\r\n        if (!breadcrumb.timestamp) {\r\n            breadcrumb.timestamp = this.timestamp();\r\n        }\r\n        this.getScope().addBreadcrumb(breadcrumb, numberOfBreadcrumbs);\r\n    }\r\n    /**\r\n     * Captures an exception event and sends it to Sentry.\r\n     *\r\n     * @param exception An exception-like object.\r\n     * @returns The generated eventId, or undefined if event wasn't scheduled.\r\n     */\r\n    captureException(exception) {\r\n        this.debug(() => this.log(`calling captureException`));\r\n        const event = this.buildEvent({});\r\n        if (!event)\r\n            return;\r\n        // This is to maintain backwards compatibility for 'event' option. When we remove it, all this complex logic can go away.\r\n        if ('context' in this.options) {\r\n            this.options.context.waitUntil(this.reportException(event, exception));\r\n        }\r\n        else if ('event' in this.options) {\r\n            this.options.event.waitUntil(this.reportException(event, exception));\r\n        }\r\n        else {\r\n            // 'waitUntil' not provided -- this is probably called from within a Durable Object\r\n            this.reportException(event, exception);\r\n        }\r\n        return event.event_id;\r\n    }\r\n    /**\r\n     * Captures a message event and sends it to Sentry.\r\n     *\r\n     * @param message The message to send to Sentry.\r\n     * @param level Define the level of the message.\r\n     * @returns The generated eventId, or undefined if event wasn't scheduled.\r\n     */\r\n    captureMessage(message, level = 'info') {\r\n        this.debug(() => this.log(`calling captureMessage`));\r\n        const event = this.buildEvent({ level, message });\r\n        if (!event)\r\n            return;\r\n        if ('context' in this.options) {\r\n            this.options.context.waitUntil(this.reportMessage(event));\r\n        }\r\n        else if ('event' in this.options) {\r\n            this.options.event.waitUntil(this.reportMessage(event));\r\n        }\r\n        else {\r\n            // 'waitUntil' not provided -- this is probably called from within a Durable Object\r\n            this.reportMessage(event);\r\n        }\r\n        return event.event_id;\r\n    }\r\n    /**\r\n     * Updates user context information for future events.\r\n     *\r\n     * @param user \u2014 User context object to be set in the current context. Pass null to unset the user.\r\n     */\r\n    setUser(user) {\r\n        this.getScope().setUser(user);\r\n    }\r\n    /**\r\n     * In Cloudflare Workers it\u2019s not possible to read event.request's body after having generated a response (if you attempt to, it throws an exception).\r\n     * Chances are that if you are interested in reporting request body to Sentry, you have already read the data (via request.json()/request.text()).\r\n     * Use this method to set it in Sentry context.\r\n  \n     * @param body\r\n     */\r\n    setRequestBody(body) {\r\n        if (this.request) {\r\n            this.request.data = body;\r\n        }\r\n        else {\r\n            this.request = { data: body };\r\n        }\r\n    }\r\n    /**\r\n     * Creates a new scope with and executes the given operation within. The scope is automatically removed once the operation finishes or throws.\r\n     * This is essentially a convenience function for:\r\n     *\r\n     * @example\r\n     * pushScope();\r\n     * callback();\r\n     * popScope();\r\n     */\r\n    withScope(callback) {\r\n        const scope = this.pushScope();\r\n        try {\r\n            callback(scope);\r\n        }\r\n        finally {\r\n            this.popScope();\r\n        }\r\n    }\r\n    /**\r\n     * Send data to Sentry.\r\n     *\r\n     * @param data Event data\r\n     */\r\n    async postEvent(data) {\r\n        var _a, _b;\r\n        // We are sending User-Agent for backwards compatibility with older Sentry\r\n        let headers = {\r\n            'Content-Type': 'application/json',\r\n            'User-Agent': 'toucan-js/2.6.1',\r\n        };\r\n        // Build headers\r\n        if ((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.transportOptions) === null || _b === void 0 ? void 0 : _b.headers) {\r\n            headers = {\r\n                ...headers,\r\n                ...this.options.transportOptions.headers,\r\n            };\r\n        }\r\n        // Build body string\r\n        const body = JSON.stringify(data);\r\n        // Log the outgoing request\r\n        this.debug(() => {\r\n            this.log(`sending request to Sentry with headers: ${JSON.stringify(headers)} and body: ${body}`);\r\n        });\r\n        // Send to Sentry and wait for Response\r\n        const response = await fetch(this.url, {\r\n            method: 'POST',\r\n            body,\r\n            headers,\r\n        });\r\n        // Log the response\r\n        await this.debug(() => {\r\n            return this.logResponse(response);\r\n        });\r\n        // Resolve with response\r\n        return response;\r\n    }\r\n    /**\r\n     * Builds event payload. Applies beforeSend.\r\n     *\r\n     * @param additionalData Additional data added to defaults.\r\n     * @returns Event\r\n     */\r\n    buildEvent(additionalData) {\r\n        var _a;\r\n        if (hasTracingEnabled(this.options)) {\r\n            // 1.0 === 100% events are sent\r\n            // 0.0 === 0% events are sent\r\n            const sampleRate = typeof this.options.tracesSampler === 'function'\r\n                ? this.options.tracesSampler({ request: this.request })\r\n                : typeof this.options.tracesSampleRate === 'number'\r\n                    ? this.options.tracesSampleRate\r\n                    : typeof this.options.sampleRate === 'number'\r\n                        ? this.options.sampleRate\r\n                        : null;\r\n            // Invalid sampling values result in skipped events, for parity with other Sentry SDKs.\r\n            // However, don't skip if\r\n            if (!isValidSampleRate(sampleRate)) {\r\n                this.debug(() => this.log(`skipping this event because of invalid sample rate.`));\r\n                return;\r\n            }\r\n            // Now we roll the dice. Math.random() is inclusive of 0, but not 1, so we need >= here.\r\n            // This is because When sampleRate is 0 and Math.random() returns 0, we must skip the event.\r\n            // When sampleRate is 1, the event will always be sent, because Math.random() cannot return 1.\r\n            if (Math.random() >= Number(sampleRate)) {\r\n                this.debug(() => this.log(`skipping this event (sampling rate ${Number(sampleRate)})`));\r\n                return;\r\n            }\r\n        }\r\n        const pkg = this.options.pkg;\r\n        // 'release' option takes precedence, if not present - try to derive from package.json\r\n        const release = this.options.release\r\n            ? this.options.release\r\n            : pkg\r\n                ? `${pkg.name}-${pkg.version}`\r\n                : undefined;\r\n        const scope = this.getScope();\r\n        // per https://docs.sentry.io/development/sdk-dev/event-payloads/#required-attributes\r\n        const payload = {\r\n            event_id: crypto.randomUUID().replace(/-/g, ''),\r\n            logger: 'EdgeWorker',\r\n            platform: 'node',\r\n            release,\r\n            environment: this.options.environment,\r\n            timestamp: this.timestamp(),\r\n            level: 'error',\r\n            modules: pkg\r\n                ? {\r\n                    ...pkg.dependencies,\r\n                    ...pkg.devDependencies,\r\n                }\r\n                : undefined,\r\n            ...additionalData,\r\n            request: this.request,\r\n            sdk: {\r\n                name: 'toucan-js',\r\n                version: '2.6.1',\r\n            },\r\n        };\r\n        // Type-casting 'breadcrumb' to any because our level type is a union of literals, as opposed to Level enum.\r\n        scope.applyToEvent(payload);\r\n        const beforeSend = (_a = this.options.beforeSend) !== null && _a !== void 0 ? _a : this.beforeSend;\r\n        return beforeSend(payload);\r\n    }\r\n    /**\r\n     * Converts data from fetch event's Request to Sentry Request used in Sentry Event\r\n     *\r\n     * @param request FetchEvent Request\r\n     * @returns Sentry Request\r\n     */\r\n    toSentryRequest(request) {\r\n        // Build cookies\r\n        const cookieString = request.headers.get('cookie');\r\n        let cookies = undefined;\r\n        if (cookieString) {\r\n            try {\r\n                cookies = parse(cookieString);\r\n            }\r\n            catch (e) { }\r\n        }\r\n        const headers = {};\r\n        // Build headers (omit cookie header, because we used it in the previous step)\r\n        for (const [k, v] of request.headers.entries()) {\r\n            if (k !== 'cookie') {\r\n                headers[k] = v;\r\n            }\r\n        }\r\n        const rv = {\r\n            method: request.method,\r\n            cookies,\r\n            headers,\r\n        };\r\n        try {\r\n            const url = new URL(request.url);\r\n            rv.url = `${url.protocol}//${url.hostname}${url.pathname}`;\r\n            rv.query_string = url.search;\r\n        }\r\n        catch (e) {\r\n            // `new URL` failed, let's try to split URL the primitive way\r\n            const qi = request.url.indexOf('?');\r\n            if (qi < 0) {\r\n                // no query string\r\n                rv.url = request.url;\r\n            }\r\n            else {\r\n                rv.url = request.url.substr(0, qi);\r\n                rv.query_string = request.url.substr(qi + 1);\r\n            }\r\n        }\r\n        return rv;\r\n    }\r\n    /**\r\n     * This SDK's implementation of beforeSend. If 'beforeSend' is not provided in options, this implementation will be applied.\r\n     * This function is applied to all events before sending to Sentry.\r\n     *\r\n     * By default it:\r\n     * 1. Removes all request headers (unless opts.allowedHeaders is provided - in that case the allowlist is applied)\r\n     * 2. Removes all request cookies (unless opts.allowedCookies is provided- in that case the allowlist is applied)\r\n     * 3. Removes all search params (unless opts.allowedSearchParams is provided- in that case the allowlist is applied)\r\n     *\r\n     * @param event\r\n     * @returns Event\r\n     */\r\n    beforeSend(event) {\r\n        const request = event.request;\r\n        if (request) {\r\n            // Let's try to remove sensitive data from incoming Request\r\n            const allowedHeaders = this.options.allowedHeaders;\r\n            const allowedCookies = this.options.allowedCookies;\r\n            const allowedSearchParams = this.options.allowedSearchParams;\r\n            if (allowedHeaders) {\r\n                request.headers = this.applyAllowlist(request.headers, allowedHeaders);\r\n            }\r\n            else {\r\n                delete request.headers;\r\n            }\r\n            if (allowedCookies) {\r\n                request.cookies = this.applyAllowlist(request.cookies, allowedCookies);\r\n            }\r\n            else {\r\n                delete request.cookies;\r\n            }\r\n            if (allowedSearchParams) {\r\n                const params = Object.fromEntries(new URLSearchParams(request.query_string));\r\n                const allowedParams = new URLSearchParams();\r\n                Object.keys(this.applyAllowlist(params, allowedSearchParams)).forEach((allowedKey) => {\r\n                    allowedParams.set(allowedKey, params[allowedKey]);\r\n                });\r\n                request.query_string = allowedParams.toString();\r\n            }\r\n            else {\r\n                delete request.query_string;\r\n            }\r\n        }\r\n        event.request = request;\r\n        return event;\r\n    }\r\n    /**\r\n     * Helper function that applies 'allowlist' on 'obj' keys.\r\n     *\r\n     * @param obj\r\n     * @param allowlist\r\n     * @returns New object with allowed keys.\r\n     */\r\n    applyAllowlist(obj = {}, allowlist) {\r\n        let predicate = (item) => false;\r\n        if (allowlist instanceof RegExp) {\r\n            predicate = (item) => allowlist.test(item);\r\n        }\r\n        else if (Array.isArray(allowlist)) {\r\n            const allowlistLowercased = allowlist.map((item) => item.toLowerCase());\r\n            predicate = (item) => allowlistLowercased.includes(item);\r\n        }\r\n        else {\r\n            this.debug(() => this.warn('allowlist must be an array of strings, or a regular expression.'));\r\n            return {};\r\n        }\r\n        return Object.keys(obj)\r\n            .map((key) => key.toLowerCase())\r\n            .filter((key) => predicate(key))\r\n            .reduce((allowed, key) => {\r\n            allowed[key] = obj[key];\r\n            return allowed;\r\n        }, {});\r\n    }\r\n    /**\r\n     * A number representing the seconds elapsed since the UNIX epoch.\r\n     */\r\n    timestamp() {\r\n        return Date.now() / 1000;\r\n    }\r\n    /**\r\n     * Builds Message as per https://develop.sentry.dev/sdk/event-payloads/message/, adds it to the event,\r\n     * and sends it to Sentry. Inspired by https://github.com/getsentry/sentry-javascript/blob/master/packages/node/src/backend.ts.\r\n     *\r\n     * @param event\r\n     */\r\n    async reportMessage(event) {\r\n        return this.postEvent(event);\r\n    }\r\n    /**\r\n     * Builds Exception as per https://docs.sentry.io/development/sdk-dev/event-payloads/exception/, adds it to the event,\r\n     * and sends it to Sentry. Inspired by https://github.com/getsentry/sentry-javascript/blob/master/packages/node/src/backend.ts.\r\n     *\r\n     * @param event\r\n     * @param error\r\n     */\r\n    async reportException(event, maybeError) {\r\n        let error;\r\n        if (isError(maybeError)) {\r\n            error = maybeError;\r\n        }\r\n        else if (isPlainObject(maybeError)) {\r\n            // This will allow us to group events based on top-level keys\r\n            // which is much better than creating new group when any key/value change\r\n            const message = `Non-Error exception captured with keys: ${extractExceptionKeysForMessage(maybeError)}`;\r\n            this.setExtra('__serialized__', normalizeToSize(maybeError));\r\n            error = new Error(message);\r\n        }\r\n        else {\r\n            // This handles when someone does: `throw \"something awesome\";`\r\n            // We use synthesized Error here so we can extract a (rough) stack trace.\r\n            error = new Error(maybeError);\r\n        }\r\n        const stacktrace = await this.buildStackTrace(error);\r\n        event.exception = {\r\n            values: [{ type: error.name, value: error.message, stacktrace }],\r\n        };\r\n        return this.postEvent(event);\r\n    }\r\n    /**\r\n     * Builds Stacktrace as per https://docs.sentry.io/development/sdk-dev/event-payloads/stacktrace/\r\n     *\r\n     * @param error Error object.\r\n     * @returns Stacktrace\r\n     */\r\n    async buildStackTrace(error) {\r\n        var _a;\r\n        if (this.options.attachStacktrace === false) {\r\n            return undefined;\r\n        }\r\n        try {\r\n            const stack = await fromError(error);\r\n            /**\r\n             * sentry-cli and webpack-sentry-plugin upload the source-maps named by their path with a ~/ prefix.\r\n             * Lets adhere to this behavior.\r\n             */\r\n            const rewriteFrames = (_a = this.options.rewriteFrames) !== null && _a !== void 0 ? _a : {\r\n                root: '~/',\r\n                iteratee: (frame) => frame,\r\n            };\r\n            return {\r\n                frames: stack\r\n                    .map((frame) => {\r\n                    var _a;\r\n                    const filename = (_a = frame.fileName) !== null && _a !== void 0 ? _a : '';\r\n                    const stackFrame = {\r\n                        colno: frame.columnNumber,\r\n                        lineno: frame.lineNumber,\r\n                        filename,\r\n                        function: frame.functionName,\r\n                    };\r\n                    if (!!rewriteFrames.root) {\r\n                        stackFrame.filename = `${rewriteFrames.root}${stackFrame.filename}`;\r\n                    }\r\n                    return !!rewriteFrames.iteratee\r\n                        ? rewriteFrames.iteratee(stackFrame)\r\n                        : stackFrame;\r\n                })\r\n                    .reverse(),\r\n            };\r\n        }\r\n        catch (e) {\r\n            return undefined;\r\n        }\r\n    }\r\n    /**\r\n     * Runs a callback if debug === true.\r\n     * Use this to delay execution of debug logic, to ensure toucan doesn't burn I/O in non-debug mode.\r\n     *\r\n     * @param callback\r\n     */\r\n    debug(callback) {\r\n        if (this.options.debug) {\r\n            return callback();\r\n        }\r\n    }\r\n    log(message) {\r\n        console.log(`toucan-js: ${message}`);\r\n    }\r\n    warn(message) {\r\n        console.warn(`toucan-js: ${message}`);\r\n    }\r\n    error(message) {\r\n        console.error(`toucan-js: ${message}`);\r\n    }\r\n    /**\r\n     * Reads and logs Response object from Sentry. Warning: Reads the Response stream (.text()).\r\n     * Do not use without this.debug wrapper.\r\n     *\r\n     * @param response Response\r\n     */\r\n    async logResponse(response) {\r\n        var _a;\r\n        let responseText = '';\r\n        // Read response body, set to empty if fails\r\n        try {\r\n            responseText = await response.text();\r\n        }\r\n        catch (e) {\r\n            responseText += '';\r\n        }\r\n        // Parse origin from response.url, but at least give some string if parsing fails.\r\n        let origin = 'Sentry';\r\n        try {\r\n            const originUrl = new URL(response.url);\r\n            origin = originUrl.origin;\r\n        }\r\n        catch (e) {\r\n            origin = (_a = response.url) !== null && _a !== void 0 ? _a : 'Sentry';\r\n        }\r\n        const msg = `${origin} responded with [${response.status} ${response.statusText}]: ${responseText}`;\r\n        if (response.ok) {\r\n            this.log(msg);\r\n        }\r\n        else {\r\n            this.error(msg);\r\n        }\r\n    }\r\n    /** Returns the scope of the top stack. */\r\n    getScope() {\r\n        return this.scopes[this.scopes.length - 1];\r\n    }\r\n    /**\r\n     * Create a new scope to store context information.\r\n     * The scope will be layered on top of the current one. It is isolated, i.e. all breadcrumbs and context information added to this scope will be removed once the scope ends.  * Be sure to always remove this scope with {@link this.popScope} when the operation finishes or throws.\r\n     */\r\n    pushScope() {\r\n        // We want to clone the content of prev scope\r\n        const scope = Scope.clone(this.getScope());\r\n        this.scopes.push(scope);\r\n        return scope;\r\n    }\r\n    /**\r\n     * Removes a previously pushed scope from the stack.\r\n     * This restores the state before the scope was pushed. All breadcrumbs and context information added since the last call to {@link this.pushScope} are discarded.\r\n     */\r\n    popScope() {\r\n        if (this.scopes.length <= 1)\r\n            return false;\r\n        return !!this.scopes.pop();\r\n    }\r\n}\n\nexport { Toucan as default };\n", "let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n", "/* eslint-disable no-console */\nimport { nanoid } from 'nanoid/non-secure'\n\n/**\n * @typedef {object} User\n * @property {number} id\n *\n * @typedef {object} MetadataRequest\n * @property {string} url\n * @property {string} method\n * @property {any} cf\n * @property {Record<string, string>} headers\n * @property {Response} [response]\n *\n * @typedef {object} CloudflareWorker\n * @property {string} version\n * @property {string} commit\n * @property {string} branch\n * @property {string} worker_id\n * @property {number} worker_started\n *\n * @typedef {object} Metadata\n * @property {string} [message]\n * @property {string} [dt]\n * @property {string} [level]\n * @property {User} [user]\n * @property {MetadataRequest} request\n * @property {CloudflareWorker} cloudflare_worker\n */\n\nexport class Logging {\n  /**\n   * @param {Request} request\n   * @param {ExecutionContext} context\n   * @param {object} opts\n   * @param {string} opts.url\n   * @param {string} [opts.token]\n   * @param {boolean} [opts.debug]\n   * @param {string} opts.version\n   * @param {string} opts.commit\n   * @param {string} opts.branch\n   * @param {string} opts.worker\n   * @param {string} opts.env\n   * @param {import('toucan-js').default} [opts.sentry]\n   */\n  constructor(request, context, opts) {\n    this.request = request\n    this.context = context\n    this.opts = opts\n\n    this._times = new Map()\n    /**\n     * @type {string[]}\n     */\n    this._timesOrder = []\n\n    /**\n     * @type {any[]}\n     */\n    this.logEventsBatch = []\n    this.startTs = Date.now()\n    this.currentTs = this.startTs\n\n    // Get metadata\n    const cf = request.cf\n    let rCf\n    if (cf) {\n      // @ts-ignore\n      const { tlsClientAuth, tlsExportedAuthenticator, ...rest } = cf\n      rCf = rest\n    }\n\n    /**\n     * @type {Metadata}\n     */\n    this.metadata = {\n      request: {\n        url: request.url,\n        method: request.method,\n        headers: buildMetadataFromHeaders(request.headers),\n        cf: rCf,\n      },\n      cloudflare_worker: {\n        version: this.opts.version,\n        commit: this.opts.commit,\n        branch: this.opts.branch,\n        worker_id: nanoid(10),\n        worker_started: this.startTs,\n      },\n    }\n  }\n\n  /**\n   * Set user\n   *\n   * @param {User} user\n   **/\n  setUser(user) {\n    this.metadata = {\n      ...this.metadata,\n      user,\n    }\n    if (this.opts.sentry) {\n      this.opts.sentry.setUser({\n        id: `${user.id}`,\n      })\n    }\n  }\n\n  async postBatch() {\n    if (this.logEventsBatch.length > 0) {\n      const batchInFlight = [...this.logEventsBatch]\n      this.logEventsBatch = []\n      const rHost = batchInFlight[0].metadata.request.headers.host\n      const lokiBody = {\n        streams: [\n          {\n            stream: {\n              worker: this.opts.worker,\n              env: this.opts.env,\n            },\n            values: batchInFlight.map((batch) => [\n              String(new Date(batch.dt).getTime() * 1_000_000), // converted to nanoseconds\n              JSON.stringify(batch),\n            ]),\n          },\n        ],\n      }\n\n      const resp = await fetch(`${this.opts.url}/loki/api/v1/push`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Basic ${this.opts?.token}`,\n          'Content-Type': 'application/json',\n          'User-Agent': `Cloudflare Worker via ${rHost}`,\n        },\n        body: JSON.stringify(lokiBody),\n      })\n\n      if (this.opts?.debug) {\n        console.info(\n          `[${this._date()}]`,\n          `${batchInFlight.length} Logs pushed with status ${resp.status}.`\n        )\n      }\n    }\n  }\n\n  /**\n   * End instance, push logs and servers timings\n   *\n   * @param {Response} response\n   */\n  async end(response) {\n    if (this.opts?.debug) {\n      response.headers.set('Server-Timing', this._timersString())\n    }\n    const run = async () => {\n      const dt = this._date()\n      const duration = Date.now() - this.startTs\n      const log = {\n        message: '',\n        dt,\n        level: 'info',\n        metadata: {\n          ...this.metadata,\n          response: {\n            // @ts-ignore Record<string, string> headers instead of Headers\n            headers: buildMetadataFromHeaders(response.headers),\n            status_code: response.status,\n            duration,\n          },\n        },\n      }\n      this._add(log)\n      await this.postBatch()\n    }\n    if (this.opts.token) {\n      this.context.waitUntil(run())\n    }\n\n    return response\n  }\n\n  /**\n   * Log\n   *\n   * @param {string | Error} message\n   * @param {'debug' | 'info' | 'warn' | 'error'} level\n   * @param {any} [context]\n   * @param {any} [metadata]\n   */\n  log(message, level, context = '', metadata) {\n    const dt = this._date()\n    let log = {\n      dt,\n      level,\n      metadata: { ...this.metadata, ...metadata },\n      ...context,\n    }\n\n    if (message instanceof Error) {\n      log = {\n        ...log,\n        stack: message.stack,\n        message: message.message,\n      }\n      if (this.opts.sentry) {\n        this.opts.sentry.captureException(message)\n      }\n      if (this.opts?.debug) {\n        console[level](`[${dt}] `, message.stack, context)\n      }\n    } else {\n      log = {\n        ...log,\n        message,\n      }\n      if (this.opts?.debug) {\n        console[level](`[${dt}] `, message, context)\n      }\n    }\n\n    this._add(log)\n  }\n\n  /**\n   * Add log entry to batch\n   *\n   * @param {any} body\n   */\n  _add(body) {\n    this.logEventsBatch.push(body)\n  }\n\n  /**\n   * @param {string} message\n   * @param {any} [context]\n   */\n  debug(message, context) {\n    return this.log(message, 'debug', context)\n  }\n\n  /**\n   * @param {string} message\n   * @param {any} [context]\n   */\n  info(message, context) {\n    return this.log(message, 'info', context)\n  }\n\n  /**\n   * @param {string} message\n   * @param {any} [context]\n   */\n  warn(message, context) {\n    return this.log(message, 'warn', context)\n  }\n\n  /**\n   * @param {string | Error} message\n   * @param {any} [context]\n   */\n  error(message, context) {\n    return this.log(message, 'error', context)\n  }\n\n  /**\n   * @param {string} name\n   * @param {any} [description]\n   */\n  time(name, description) {\n    this._times.set(name, {\n      name,\n      description,\n      start: Date.now(),\n    })\n    this._timesOrder.push(name)\n  }\n\n  /**\n   * @param {string} name\n   */\n  timeEnd(name) {\n    const timeObj = this._times.get(name)\n    if (!timeObj) {\n      return console.warn(`No such name ${name}`)\n    }\n\n    const end = Date.now()\n    const duration = end - timeObj.start\n    const value = duration\n    timeObj.value = value\n    this._times.set(name, {\n      ...timeObj,\n      end,\n      duration,\n    })\n\n    if (this.opts?.debug) {\n      console.log(`[${this._date()}]`, `${name}: ${duration} ms`)\n    }\n    return timeObj\n  }\n\n  _date() {\n    const now = Date.now()\n    if (now === this.currentTs) {\n      const dt = new Date().toISOString()\n      /**\n       * Fake increment the datetime string to order the logs entries\n       * It won't leap seconds but for most cases it will increment by 1 the datetime milliseconds\n       */\n      const newDt = dt.replace(/\\.(\\d*)Z/, (s, p1, p2) => {\n        return `.${String(Number(p1) + this.logEventsBatch.length)}Z`\n      })\n      return new Date(newDt).toISOString()\n    } else {\n      this.currentTs = now\n      return new Date().toISOString()\n    }\n  }\n\n  _timersString() {\n    const result = []\n    for (const key of this._timesOrder) {\n      const { name, duration, description } = this._times.get(key)\n      result.push(\n        description\n          ? `${name};desc=\"${description}\";dur=${duration}`\n          : `${name};dur=${duration}`\n      )\n    }\n\n    return result.join(',')\n  }\n}\n\nconst buildMetadataFromHeaders = (/** @type {Headers} */ headers) => {\n  /** @type {Record<string, string>} */\n  const responseMetadata = {}\n  for (const [key, value] of headers) {\n    responseMetadata[key.replace(/-/g, '_')] = value\n  }\n  return responseMetadata\n}\n", "/* global BRANCH, VERSION, COMMITHASH, SENTRY_RELEASE */\n\nimport Toucan from 'toucan-js'\nimport { Logging } from '@web3-storage/worker-utils/loki'\n\nimport pkg from '../package.json'\n\n/**\n * @typedef {import('./bindings').Env} Env\n * @typedef {import('.').Ctx} Ctx\n */\n\n/**\n * @param {Request} request\n * @param {Env} env\n * @param {import('.').Ctx} ctx\n */\nexport function envAll(request, env, ctx) {\n  env.IPFS_GATEWAY_HOSTNAME = env.GATEWAY_HOSTNAME\n  env.IPNS_GATEWAY_HOSTNAME = env.GATEWAY_HOSTNAME.replace('ipfs', 'ipns')\n\n  // These values are replaced at build time by esbuild `define`\n  env.BRANCH = BRANCH\n  env.VERSION = VERSION\n  env.COMMITHASH = COMMITHASH\n  env.SENTRY_RELEASE = SENTRY_RELEASE\n\n  env.sentry = getSentry(request, env, ctx)\n\n  env.log = new Logging(request, ctx, {\n    // @ts-ignore TODO: url should be optional together with token\n    url: env.LOKI_URL,\n    token: env.LOKI_TOKEN,\n    debug: Boolean(env.DEBUG),\n    version: env.VERSION,\n    commit: env.COMMITHASH,\n    branch: env.BRANCH,\n    worker: 'leto.gg',\n    env: env.ENV,\n    sentry: env.sentry\n  })\n  env.log.time('request')\n}\n\n/**\n * Get sentry instance if configured\n *\n * @param {Request} request\n * @param {Env} env\n * @param {Ctx} ctx\n */\nfunction getSentry(request, env, ctx) {\n  if (!env.SENTRY_DSN) {\n    return\n  }\n\n  return new Toucan({\n    request,\n    dsn: env.SENTRY_DSN,\n    context: ctx,\n    allowedHeaders: ['user-agent'],\n    allowedSearchParams: /(.*)/,\n    debug: false,\n    environment: env.ENV || 'dev',\n    rewriteFrames: {\n      // sourcemaps only work if stack filepath are absolute like `/worker.js`\n      root: '/'\n    },\n    release: env.SENTRY_RELEASE,\n    pkg\n  })\n}\n", "/* eslint-env serviceworker */\n\nimport { Router } from 'itty-router'\nimport { ipfsGet } from './ipfs.js'\nimport { ipnsGet } from './ipns.js'\nimport { versionGet } from './version.js'\nimport { gatewayGet } from './gateway.js'\n\nimport { addCorsHeaders, withCorsHeaders } from './cors.js'\nimport { errorHandler } from './error-handler.js'\nimport { envAll } from './env.js'\n\n// https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent\n/** @typedef {ExecutionContext} Ctx */\n\nconst router = Router()\n\nrouter\n  .all('*', envAll)\n  .get('/version', withCorsHeaders(versionGet))\n  .get('/ipfs/:cid', withCorsHeaders(ipfsGet))\n  .get('/ipfs/:cid/*', withCorsHeaders(ipfsGet))\n  .head('/ipfs/:cid', withCorsHeaders(ipfsGet))\n  .head('/ipfs/:cid/*', withCorsHeaders(ipfsGet))\n  .get('/ipns/:name', withCorsHeaders(ipnsGet))\n  .get('/ipns/:name/*', withCorsHeaders(ipnsGet))\n  .get('*', withCorsHeaders(gatewayGet))\n  .head('*', withCorsHeaders(gatewayGet))\n\n/**\n * @param {Error} error\n * @param {Request} request\n * @param {import('./env').Env} env\n */\nfunction serverError(error, request, env) {\n  return addCorsHeaders(request, errorHandler(error, env))\n}\n\nexport default {\n  /**\n   *\n   * @param {Request} request\n   * @param {import(\"./bindings\").Env} env\n   * @param {Ctx} ctx\n   */\n  async fetch(request, env, ctx) {\n    try {\n      const res = await router.handle(request, env, ctx)\n      env.log.timeEnd('request')\n      return env.log.end(res)\n    } catch (/** @type {any} */ error) {\n      if (env.log) {\n        env.log.timeEnd('request')\n        return env.log.end(serverError(error, request, env))\n      }\n      return serverError(error, request, env)\n    }\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
